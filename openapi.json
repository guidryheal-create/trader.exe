{"openapi":"3.1.0","info":{"title":"Hygdra Forecasting API","description":"API documentation for Hygdra Forecasting System","version":"1.0.1"},"paths":{"/attribute/ticker/list":{"get":{"tags":["attributes"],"summary":"Get Ticker List","operationId":"get_ticker_list_attribute_ticker_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Ticker List Attribute Ticker List Get"}}}}}}},"/attribute/ticker-cluster/name":{"get":{"tags":["attributes"],"summary":"Get Ticker Cluster Names","operationId":"get_ticker_cluster_names_attribute_ticker_cluster_name_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Ticker Cluster Names Attribute Ticker Cluster Name Get"}}}}}}},"/attribute/ticker-cluster/list":{"get":{"tags":["attributes"],"summary":"Get Ticker Cluster List","operationId":"get_ticker_cluster_list_attribute_ticker_cluster_list_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Ticker Cluster List Attribute Ticker Cluster List Get"}}}}}}},"/attribute/seq":{"get":{"tags":["attributes"],"summary":"Get Sequence Requests","operationId":"get_sequence_requests_attribute_seq_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Sequence Requests Attribute Seq Get"}}}}}}},"/attribute/enabled-assets":{"get":{"tags":["attributes"],"summary":"Get Enabled Assets","operationId":"get_enabled_assets_attribute_enabled_assets_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/EnabledAssetsResponse"}}}}}}},"/health":{"get":{"tags":["monitoring"],"summary":"Health","description":"Health check endpoint that verifies API and database connectivity","operationId":"health_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/metrics":{"get":{"tags":["monitoring"],"summary":"Metrics","description":"Metrics endpoint for Prometheus","operationId":"metrics_metrics_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/worker/health":{"get":{"tags":["monitoring","monitoring"],"summary":"Worker Health","description":"Get health status of the trading worker","operationId":"worker_health_api_worker_health_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/json/metrics/{ticker}/{interval}":{"get":{"tags":["monitoring"],"summary":"Get Metrics Json","description":"Get JSON metrics for a specific ticker and interval","operationId":"get_metrics_json_api_json_metrics__ticker___interval__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json":{"get":{"tags":["data"],"summary":"Get Data","operationId":"get_data_api_json_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/json/stock/{seq}/{ticker}":{"get":{"tags":["data"],"summary":"Get Data By Stock","operationId":"get_data_by_stock_api_json_stock__seq___ticker__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"seq","in":"path","required":true,"schema":{"$ref":"#/components/schemas/SequenceRequest"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json/stockatdate/{ticker}/{date}":{"get":{"tags":["data"],"summary":"Get Stock At Date","operationId":"get_stock_at_date_api_json_stockatdate__ticker___date__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"date","in":"path","required":true,"schema":{"type":"string","title":"Date"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json/stockindaterange/{ticker}/{date_begin}/{date_end}":{"get":{"tags":["data"],"summary":"Get Stock In Daterange","operationId":"get_stock_in_daterange_api_json_stockindaterange__ticker___date_begin___date_end__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"date_begin","in":"path","required":true,"schema":{"type":"string","title":"Date Begin"}},{"name":"date_end","in":"path","required":true,"schema":{"type":"string","title":"Date End"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json/action/{ticker}/{interval}":{"get":{"tags":["data"],"summary":"Get Latest Action","description":"Get the latest DQN action recommendation for a ticker.\n\nArgs:\n    ticker: Stock ticker (e.g., 'BTC-USD')\n    interval: Time interval (days, hours, minutes, thirty)\n\nReturns:\n    JSON with action, action_name, confidence, q_values, forecast, current_price","operationId":"get_latest_action_api_json_action__ticker___interval__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json/actions/all/{interval}":{"get":{"tags":["data"],"summary":"Get All Actions","description":"Get latest action recommendations for all tickers at a given interval.\n\nArgs:\n    interval: Time interval (days, hours, minutes, thirty)\n\nReturns:\n    JSON array of action recommendations","operationId":"get_all_actions_api_json_actions_all__interval__get","parameters":[{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/json/ohlc/{interval}/{ticker}":{"get":{"tags":["data"],"summary":"Get Ohlc Data","description":"Get OHLC (Open, High, Low, Close) data directly from Kraken API.\n\nThis endpoint fetches fresh OHLC data from Kraken without going through Redis/scheduler,\nmaking it ideal for candlestick charts that need complete OHLC information.\n\nArgs:\n    ticker: Stock ticker (e.g., 'BTC-USD', 'ETH-USD')\n    interval: Time interval (minutes, thirty, hours, days)\n\nReturns:\n    JSON array with Date, open, high, low, close columns","operationId":"get_ohlc_data_api_json_ohlc__interval___ticker__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/tickers/available":{"get":{"tags":["tickers"],"summary":"Get Available Tickers","description":"Get list of available tickers with data in Redis.\nUses the service function to fetch directly from Redis.\n\nReturns:\n    List of dicts with ticker info:\n    - symbol: Ticker symbol (e.g., \"BTC-USD\")\n    - name: Asset name (e.g., \"Bitcoin\")\n    - type: Asset type (\"crypto\", \"stock\", etc.)\n    - intervals: List of available intervals\n    - has_dqn: Whether DQN data is available","operationId":"get_available_tickers_api_tickers_available_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get Available Tickers Api Tickers Available Get"}}}}}}},"/api/tickers/intervals":{"get":{"tags":["tickers"],"summary":"Get Available Intervals","description":"Get list of all available intervals across all tickers.\n\nReturns:\n    List of interval names (e.g., [\"minutes\", \"hours\", \"days\"])","operationId":"get_available_intervals_api_tickers_intervals_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"type":"string"},"type":"array","title":"Response Get Available Intervals Api Tickers Intervals Get"}}}}}}},"/api/tickers/{ticker}/info":{"get":{"tags":["tickers"],"summary":"Get Ticker Info","description":"Get detailed information about a specific ticker.\n\nArgs:\n    ticker: Ticker symbol (e.g., \"BTC-USD\")\n\nReturns:\n    Dict with ticker details including available intervals, latest price, etc.","operationId":"get_ticker_info_api_tickers__ticker__info_get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ticker Info Api Tickers  Ticker  Info Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/api-keys/":{"get":{"tags":["api-keys"],"summary":"List Api Keys","description":"List all API keys for the authenticated user.","operationId":"list_api_keys_api_user_api_keys__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/APIKeyResponse"},"type":"array","title":"Response List Api Keys Api User Api Keys  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["api-keys"],"summary":"Create Api Key","description":"Create a new API key for the authenticated user.","operationId":"create_api_key_api_user_api_keys__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyCreated"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/api-keys":{"get":{"tags":["api-keys"],"summary":"List Api Keys","description":"List all API keys for the authenticated user.","operationId":"list_api_keys_api_user_api_keys_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/APIKeyResponse"},"type":"array","title":"Response List Api Keys Api User Api Keys Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/api-keys/{key_id}":{"patch":{"tags":["api-keys"],"summary":"Update Api Key","description":"Update an existing API key (name, role, rate_limit, or is_active).","operationId":"update_api_key_api_user_api_keys__key_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/APIKeyResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["api-keys"],"summary":"Revoke Api Key","description":"Revoke (delete) an API key.","operationId":"revoke_api_key_api_user_api_keys__key_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/api-keys/{key_id}/usage":{"get":{"tags":["api-keys"],"summary":"Get Api Key Usage","description":"Get usage statistics for an API key.","operationId":"get_api_key_usage_api_user_api_keys__key_id__usage_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"key_id","in":"path","required":true,"schema":{"type":"string","title":"Key Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Api Key Usage Api User Api Keys  Key Id  Usage Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stripe/create-checkout-session":{"post":{"tags":["stripe"],"summary":"Create Checkout Session","description":"Create Stripe Checkout session for subscription.\n\nRequires authentication.","operationId":"create_checkout_session_api_stripe_create_checkout_session_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CheckoutSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/stripe/create-portal-session":{"post":{"tags":["stripe"],"summary":"Create Portal Session","description":"Create Stripe Customer Portal session for subscription management.\n\nRequires authentication.","operationId":"create_portal_session_api_stripe_create_portal_session_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortalSessionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/stripe/webhook":{"post":{"tags":["stripe"],"summary":"Stripe Webhook","description":"Handle Stripe webhook events.\n\nVerifies webhook signature and processes subscription events.","operationId":"stripe_webhook_api_stripe_webhook_post","parameters":[{"name":"stripe-signature","in":"header","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stripe-Signature"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/stripe/plans":{"get":{"tags":["stripe"],"summary":"Get Available Plans","description":"Get available subscription plans with pricing and features.\nPrioritizes live Stripe products - only returns plans that exist in Stripe.\n\nPublic endpoint - no authentication required.\nReturns active Stripe products enriched with database plan features.","operationId":"get_available_plans_api_stripe_plans_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/stripe/subscription-status":{"get":{"tags":["stripe"],"summary":"Get Subscription Status","description":"Get current subscription status and entitlements.\n\nReturns subscription details and feature access.\nAdmin users automatically get full entitlements (bypass Stripe subscription).\nMain account API keys also bypass subscription checks.","operationId":"get_subscription_status_api_stripe_subscription_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/mcp/":{"get":{"tags":["mcp"],"summary":"Mcp Root","description":"MCP root endpoint for Inspector compatibility.\nPublic endpoint - no authentication required.\n\nReturns:\n- protocolVersion: MCP protocol version\n- capabilities: Available capabilities\n- serverInfo: Server information","operationId":"mcp_root_mcp__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Mcp Root Mcp  Get"}}}}}},"post":{"tags":["mcp"],"summary":"Mcp Request","description":"Handle MCP protocol requests","operationId":"mcp_request_mcp__post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/mcp/tools":{"get":{"tags":["mcp"],"summary":"List Tools","description":"List available MCP tools.\n\nAuth:\n- Header `X-API-Key: sk_...` or `Authorization: Bearer <JWT>`\n\nExample:\n- curl -s \"https://<host>/mcp/tools\" -H \"X-API-Key: sk_...\"","operationId":"list_tools_mcp_tools_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Tools Mcp Tools Get"}}}}}}},"/mcp/tools/get_stock_forecast":{"get":{"tags":["mcp"],"summary":"Get Stock Forecast","description":"Get price forecast for a specific ticker and interval.\n\nQuery params:\n- ticker: e.g. BTC-USD\n- interval: one of minutes | thirty | hours | days\n\nExample:\n- curl -s \"https://<host>/mcp/tools/get_stock_forecast?ticker=BTC-USD&interval=hours\" -H \"X-API-Key: sk_...\"","operationId":"get_stock_forecast_mcp_tools_get_stock_forecast_get","parameters":[{"name":"ticker","in":"query","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"query","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Stock Forecast Mcp Tools Get Stock Forecast Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/tools/get_action_recommendation":{"get":{"tags":["mcp"],"summary":"Get Action Recommendation","description":"Get DQN action recommendation with confidence.\n\nQuery params:\n- ticker: e.g. BTC-USD\n- interval: minutes | thirty | hours | days\n\nExample:\n- curl -s \"https://<host>/mcp/tools/get_action_recommendation?ticker=BTC-USD&interval=hours\" -H \"X-API-Key: sk_...\"","operationId":"get_action_recommendation_mcp_tools_get_action_recommendation_get","parameters":[{"name":"ticker","in":"query","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"query","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Action Recommendation Mcp Tools Get Action Recommendation Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/tools/list_available_tickers":{"get":{"tags":["mcp"],"summary":"List Available Tickers","description":"Get all available tickers.\n\nExample:\n- curl -s \"https://<host>/mcp/tools/list_available_tickers\" -H \"X-API-Key: sk_...\"","operationId":"list_available_tickers_mcp_tools_list_available_tickers_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Available Tickers Mcp Tools List Available Tickers Get"}}}}}}},"/mcp/tools/get_trend_analysis":{"get":{"tags":["mcp"],"summary":"Get Trend Analysis","description":"Get trend analysis with %change variations relative to REAL T0 price (actual current market price).\n        \n        Returns CSV format: ticker,T+1,T+2,...,T+14\nBTC-USD,+2%,+3%,+4%,...\n        Uses REAL T0 price as base (0% change), all forecasted variations (T+1 to T+14) are calculated \n        relative to this real baseline. This avoids bias by anchoring all forecasts to the same real price.\n        \n        Query params:\n        - ticker: e.g. BTC-USD\n        - interval: minutes | thirty | hours | days\n        \n        Example:\n        - curl -s \"https://<host>/mcp/tools/get_trend_analysis?ticker=BTC-USD&interval=days\" -H \"X-API-Key: sk_...\"","operationId":"get_trend_analysis_mcp_tools_get_trend_analysis_get","parameters":[{"name":"ticker","in":"query","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"query","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Trend Analysis Mcp Tools Get Trend Analysis Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/tools/get_metrics":{"get":{"tags":["mcp"],"summary":"Get Metrics","description":"Get model performance metrics.\n\nQuery params:\n- ticker\n- interval\n\nExample:\n- curl -s \"https://<host>/mcp/tools/get_metrics?ticker=BTC-USD&interval=hours\" -H \"X-API-Key: sk_...\"","operationId":"get_metrics_mcp_tools_get_metrics_get","parameters":[{"name":"ticker","in":"query","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"query","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Metrics Mcp Tools Get Metrics Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/stream/forecast/{ticker}/{interval}":{"get":{"tags":["mcp"],"summary":"Stream Forecast","description":"Stream real-time forecast updates for a ticker using Server-Sent Events (SSE).\n\nPath params:\n- ticker: Stock ticker symbol (e.g., BTC-USD)\n- interval: Time interval (minutes, thirty, hours, days)\n\nExample:\n- curl -N \"https://<host>/mcp/stream/forecast/BTC-USD/hours\" -H \"X-API-Key: sk_...\"","operationId":"stream_forecast_mcp_stream_forecast__ticker___interval__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/stream/actions/{ticker}/{interval}":{"get":{"tags":["mcp"],"summary":"Stream Actions","description":"Stream real-time action recommendations using Server-Sent Events (SSE).\n\nExample:\n- curl -N \"https://<host>/mcp/stream/actions/BTC-USD/hours\" -H \"X-API-Key: sk_...\"","operationId":"stream_actions_mcp_stream_actions__ticker___interval__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/mcp/stream/metrics/{ticker}/{interval}":{"get":{"tags":["mcp"],"summary":"Stream Metrics","description":"Stream real-time model metrics using Server-Sent Events (SSE).\n\nExample:\n- curl -N \"https://<host>/mcp/stream/metrics/BTC-USD/hours\" -H \"X-API-Key: sk_...\"","operationId":"stream_metrics_mcp_stream_metrics__ticker___interval__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}},{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/preferences/":{"get":{"tags":["user-preferences"],"summary":"Get User Preferences","description":"Get user preferences. Creates default preferences if they don't exist.","operationId":"get_user_preferences_api_user_preferences__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesResponse"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["user-preferences"],"summary":"Update User Preferences","description":"Update user preferences. Only updates provided fields.","operationId":"update_user_preferences_api_user_preferences__put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/preferences/reset":{"post":{"tags":["user-preferences"],"summary":"Reset User Preferences","description":"Reset user preferences to default values.","operationId":"reset_user_preferences_api_user_preferences_reset_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserPreferencesResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/notifications/":{"get":{"tags":["notifications"],"summary":"Get Notifications","description":"Get user notifications with pagination and filtering.","operationId":"get_notifications_api_user_notifications__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":50,"title":"Limit"}},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"default":0,"title":"Offset"}},{"name":"type_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Type Filter"}},{"name":"read_filter","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Read Filter"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/NotificationResponse"},"title":"Response Get Notifications Api User Notifications  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["notifications"],"summary":"Create Notification","description":"Create a new notification for the user (for testing/system use).","operationId":"create_notification_api_user_notifications__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/notifications/unread-count":{"get":{"tags":["notifications"],"summary":"Get Unread Count","description":"Get count of unread notifications.","operationId":"get_unread_count_api_user_notifications_unread_count_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/UnreadCountResponse"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/notifications/{notification_id}/read":{"patch":{"tags":["notifications"],"summary":"Mark Notification Read","description":"Mark a specific notification as read.","operationId":"mark_notification_read_api_user_notifications__notification_id__read_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/NotificationResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/notifications/read-all":{"patch":{"tags":["notifications"],"summary":"Mark All Notifications Read","description":"Mark all notifications as read for the user.","operationId":"mark_all_notifications_read_api_user_notifications_read_all_patch","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/notifications/{notification_id}":{"delete":{"tags":["notifications"],"summary":"Delete Notification","description":"Delete a specific notification.","operationId":"delete_notification_api_user_notifications__notification_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/notifications/{notification_id}/resolve":{"patch":{"tags":["notifications"],"summary":"Resolve Notification","description":"Mark a notification as resolved (read + action taken).\nCalled when user interacts with a notification.","operationId":"resolve_notification_api_user_notifications__notification_id__resolve_patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"notification_id","in":"path","required":true,"schema":{"type":"string","title":"Notification Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/sessions/":{"post":{"tags":["user-sessions"],"summary":"Log Session","description":"Log a new user session (called on login).","operationId":"log_session_api_user_sessions__post","security":[{"HTTPBearer":[]}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionLogRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/SessionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"get":{"tags":["user-sessions"],"summary":"Get User Sessions","description":"Get user's recent sessions.","operationId":"get_user_sessions_api_user_sessions__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":50,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/SessionResponse"},"title":"Response Get User Sessions Api User Sessions  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/user/sessions/{session_id}":{"delete":{"tags":["user-sessions"],"summary":"Revoke Session","description":"Revoke a specific session (delete from database).","operationId":"revoke_session_api_user_sessions__session_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"session_id","in":"path","required":true,"schema":{"type":"string","title":"Session Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/web3/ethereum/verify":{"post":{"tags":["web3-auth"],"summary":"Verify Ethereum Signature","description":"Verify Ethereum signature and create/authenticate user.","operationId":"verify_ethereum_signature_api_auth_web3_ethereum_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/EthereumVerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Web3AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/web3/solana/verify":{"post":{"tags":["web3-auth"],"summary":"Verify Solana Signature","description":"Verify Solana signature and create/authenticate user.","operationId":"verify_solana_signature_api_auth_web3_solana_verify_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/SolanaVerifyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/Web3AuthResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/auth/web3/message/ethereum":{"get":{"tags":["web3-auth"],"summary":"Get Ethereum Message","description":"Get a message template for Ethereum signing.","operationId":"get_ethereum_message_api_auth_web3_message_ethereum_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/auth/web3/message/solana":{"get":{"tags":["web3-auth"],"summary":"Get Solana Message","description":"Get a message template for Solana signing.","operationId":"get_solana_message_api_auth_web3_message_solana_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}}}},"/api/user/notification-settings/":{"get":{"tags":["user"],"summary":"Get Notification Settings","operationId":"get_notification_settings_api_user_notification_settings__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Notification Settings Api User Notification Settings  Get"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["user"],"summary":"Update Notification Settings","operationId":"update_notification_settings_api_user_notification_settings__put","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Update Notification Settings Api User Notification Settings  Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/notification-settings":{"get":{"tags":["user"],"summary":"Get Notification Settings","operationId":"get_notification_settings_api_user_notification_settings_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Notification Settings Api User Notification Settings Get"}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["user"],"summary":"Update Notification Settings","operationId":"update_notification_settings_api_user_notification_settings_put","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Payload"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Update Notification Settings Api User Notification Settings Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/me":{"get":{"tags":["user"],"summary":"Get Current User Info","description":"Get current authenticated user's complete profile information.","operationId":"get_current_user_info_api_user_me_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Current User Info Api User Me Get"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/preferences":{"put":{"tags":["user"],"summary":"Update User Preferences","description":"Update current user's preferences.","operationId":"update_user_preferences_api_user_preferences_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/app__api__routers__users__UserPreferencesUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Update User Preferences Api User Preferences Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/record-login":{"post":{"tags":["user"],"summary":"Record User Login","description":"Record user login (update last_login_at and increment login_count).\nCall this after successful authentication.","operationId":"record_user_login_api_user_record_login_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]}},"/api/user/profile":{"get":{"tags":["user"],"summary":"Get User Profile","description":"Get user profile from profiles table.","operationId":"get_user_profile_api_user_profile_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}}},"security":[{"HTTPBearer":[]}]},"put":{"tags":["user"],"summary":"Update User Profile","description":"Update user profile fields.","operationId":"update_user_profile_api_user_profile_put","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UserProfileUpdate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/hyg/token/metadata":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Token Metadata","description":"Basic HYG token metadata and current Q-phase on Sepolia.","operationId":"hyg_token_metadata_api_hyg_token_metadata_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygTokenMetadata"}}}}}}},"/api/hyg/token/{address}/balance":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Token Balance","description":"HYG balance and governance voting power for a given address.","operationId":"hyg_token_balance_api_hyg_token__address__balance_get","parameters":[{"name":"address","in":"path","required":true,"schema":{"type":"string","title":"Address"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygUserBalance"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hyg/phase/status":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Phase Status","description":"Current Q-phase status plus POS thresholds from GovernanceRegistry.","operationId":"hyg_phase_status_api_hyg_phase_status_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygPhaseStatus"}}}}}}},"/api/hyg/staking/{address}":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Staking Position","description":"Basic staking position for a user address.","operationId":"hyg_staking_position_api_hyg_staking__address__get","parameters":[{"name":"address","in":"path","required":true,"schema":{"type":"string","title":"Address"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hyg/governance/state":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Governance State","description":"Governance-level configuration and thresholds.","operationId":"hyg_governance_state_api_hyg_governance_state_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygGovernanceStateResponse"}}}}}}},"/api/hyg/governance/latest-vote":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Latest Vote","description":"Latest governance proposal and its aggregated vote state.","operationId":"hyg_latest_vote_api_hyg_governance_latest_vote_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygLatestVote"}}}}}}},"/api/hyg/strategy/system":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Strategy System","description":"High-level overview of the on-chain strategy asset sharing system.","operationId":"hyg_strategy_system_api_hyg_strategy_system_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategySystemResponse"}}}}}}},"/api/hyg/contracts":{"get":{"tags":["hyg-tokenomics"],"summary":"List Hyg Contracts","description":"List core HYG ecosystem contracts with env key, address, and description.","operationId":"list_hyg_contracts_api_hyg_contracts_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/HygContractInfo"},"type":"array","title":"Response List Hyg Contracts Api Hyg Contracts Get"}}}}}}},"/api/hyg/contracts/{contract_name}/abi":{"get":{"tags":["hyg-tokenomics"],"summary":"Get Contract Abi Endpoint","description":"Return the ABI JSON for a given contract name as exported from crypto-hyg.\n\nExample: HYGToken, MintController, StrategyNFT, etc.","operationId":"get_contract_abi_endpoint_api_hyg_contracts__contract_name__abi_get","parameters":[{"name":"contract_name","in":"path","required":true,"schema":{"type":"string","title":"Contract Name"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygContractAbiResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hyg/swaps/router":{"get":{"tags":["hyg-tokenomics"],"summary":"Hyg Swap Router","description":"Basic configuration for the HYGSwapRouter on Sepolia.","operationId":"hyg_swap_router_api_hyg_swaps_router_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygSwapRouterInfo"}}}}}}},"/api/hyg/strategy-assets/":{"get":{"tags":["hyg-strategy-assets"],"summary":"List Strategy Assets","description":"List strategy assets owned by the current user.","operationId":"list_strategy_assets_api_hyg_strategy_assets__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"$ref":"#/components/schemas/HygStrategyAsset"},"type":"array","title":"Response List Strategy Assets Api Hyg Strategy Assets  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["hyg-strategy-assets"],"summary":"Create Strategy Asset","description":"Create a new strategy asset for the current user.","operationId":"create_strategy_asset_api_hyg_strategy_assets__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategyAssetCreate"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategyAsset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/hyg/strategy-assets/{asset_id}":{"get":{"tags":["hyg-strategy-assets"],"summary":"Get Strategy Asset","description":"Get a single strategy asset by id (must be owned by current user).","operationId":"get_strategy_asset_api_hyg_strategy_assets__asset_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategyAsset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["hyg-strategy-assets"],"summary":"Update Strategy Asset","description":"Update basic metadata or pipeline for an existing strategy asset.","operationId":"update_strategy_asset_api_hyg_strategy_assets__asset_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategyAssetUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HygStrategyAsset"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/hyg/strategy-assets/{asset_id}/publish":{"post":{"tags":["hyg-strategy-assets"],"summary":"Get Publish Payload","description":"Prepare a transaction payload for publishing a strategy asset on-chain.\n\nThis endpoint does NOT sign or broadcast any transactions. It simply\nreturns the contract address, function name, and suggested args so the\nfrontend can construct a wallet transaction (e.g. MetaMask, wagmi).","operationId":"get_publish_payload_api_hyg_strategy_assets__asset_id__publish_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"asset_id","in":"path","required":true,"schema":{"type":"string","title":"Asset Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/portfolios/":{"get":{"tags":["portfolios"],"summary":"Get User Portfolios","description":"Get all portfolios for the authenticated user.\nAuto-creates a default portfolio if none exist.","operationId":"get_user_portfolios_api_portfolios__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get User Portfolios Api Portfolios  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["portfolios"],"summary":"Create Portfolio","description":"Create a new portfolio for the authenticated user.","operationId":"create_portfolio_api_portfolios__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Portfolio Api Portfolios  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/portfolios/{portfolio_id}":{"get":{"tags":["portfolios"],"summary":"Get Portfolio Details","description":"Get detailed portfolio information including positions.","operationId":"get_portfolio_details_api_portfolios__portfolio_id__get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio Details Api Portfolios  Portfolio Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/portfolios/{portfolio_id}/default-pairs":{"get":{"tags":["portfolios"],"summary":"Get Portfolio Default Pairs","operationId":"get_portfolio_default_pairs_api_portfolios__portfolio_id__default_pairs_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio Default Pairs Api Portfolios  Portfolio Id  Default Pairs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"put":{"tags":["portfolios"],"summary":"Set Portfolio Default Pairs","operationId":"set_portfolio_default_pairs_api_portfolios__portfolio_id__default_pairs_put","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DefaultPairsUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Set Portfolio Default Pairs Api Portfolios  Portfolio Id  Default Pairs Put"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/portfolios/{portfolio_id}/rebalancing":{"get":{"tags":["portfolios"],"summary":"Get Portfolio Rebalancing","description":"Return portfolio rebalancing metadata (strategy allocations, ROI, hyperparams).\nUses paper_portfolios table to match paper trading system.","operationId":"get_portfolio_rebalancing_api_portfolios__portfolio_id__rebalancing_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio Rebalancing Api Portfolios  Portfolio Id  Rebalancing Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/portfolios/{portfolio_id}/trades":{"get":{"tags":["portfolios"],"summary":"Get Portfolio Trades","description":"Get trading history for a portfolio using unified trade_logs table.\n\nNOTE: This endpoint is maintained for backward compatibility.\nFor new code, prefer using GET /api/strategies/logs?portfolio_id={portfolio_id}\nwhich provides more comprehensive trade logging with strategy context.","operationId":"get_portfolio_trades_api_portfolios__portfolio_id__trades_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":100,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Portfolio Trades Api Portfolios  Portfolio Id  Trades Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/portfolios/{portfolio_id}/positions":{"get":{"tags":["portfolios"],"summary":"Get Portfolio Positions","description":"Get current positions in a portfolio.\n\nFor paper trading portfolios, queries paper_positions table.\nFor production portfolios, queries production positions (if applicable).","operationId":"get_portfolio_positions_api_portfolios__portfolio_id__positions_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Portfolio Positions Api Portfolios  Portfolio Id  Positions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/watchlists/":{"get":{"tags":["watchlists"],"summary":"Get User Watchlists","description":"Get all watchlists for authenticated user.","operationId":"get_user_watchlists_api_watchlists__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response Get User Watchlists Api Watchlists  Get"}}}}},"security":[{"HTTPBearer":[]}]},"post":{"tags":["watchlists"],"summary":"Create Watchlist Endpoint","description":"Create new watchlist.","operationId":"create_watchlist_endpoint_api_watchlists__post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistCreate"}}},"required":true},"responses":{"201":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Watchlist Endpoint Api Watchlists  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}},"security":[{"HTTPBearer":[]}]}},"/api/watchlists/{watchlist_id}":{"patch":{"tags":["watchlists"],"summary":"Update Watchlist Endpoint","description":"Update watchlist.\n\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"update_watchlist_endpoint_api_watchlists__watchlist_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Watchlist Endpoint Api Watchlists  Watchlist Id  Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["watchlists"],"summary":"Delete Watchlist Endpoint","description":"Delete watchlist.\n\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"delete_watchlist_endpoint_api_watchlists__watchlist_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/watchlists/{watchlist_id}/items":{"get":{"tags":["watchlists"],"summary":"Get Watchlist Items Endpoint","description":"Get all tickers in a watchlist. \n\nAuto-creates watchlist if it doesn't exist for the authenticated user.\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"get_watchlist_items_endpoint_api_watchlists__watchlist_id__items_get","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Watchlist Items Endpoint Api Watchlists  Watchlist Id  Items Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["watchlists"],"summary":"Add Watchlist Item Endpoint","description":"Add ticker to watchlist.\n\nAuto-creates watchlist if it doesn't exist for the authenticated user.\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"add_watchlist_item_endpoint_api_watchlists__watchlist_id__items_post","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistItemCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Add Watchlist Item Endpoint Api Watchlists  Watchlist Id  Items Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/watchlists/{watchlist_id}/items/{item_id}":{"delete":{"tags":["watchlists"],"summary":"Remove Watchlist Item Endpoint","description":"Remove ticker from watchlist.\n\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"remove_watchlist_item_endpoint_api_watchlists__watchlist_id__items__item_id__delete","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"patch":{"tags":["watchlists"],"summary":"Update Watchlist Item Endpoint","description":"Update ticker alert/notes in a watchlist.\n\nVerifies user_id from bearer token matches watchlist owner to prevent XSS attacks.","operationId":"update_watchlist_item_endpoint_api_watchlists__watchlist_id__items__item_id__patch","security":[{"HTTPBearer":[]}],"parameters":[{"name":"watchlist_id","in":"path","required":true,"schema":{"type":"string","title":"Watchlist Id"}},{"name":"item_id","in":"path","required":true,"schema":{"type":"string","title":"Item Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/WatchlistItemCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Watchlist Item Endpoint Api Watchlists  Watchlist Id  Items  Item Id  Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/positions/{position_id}/sell":{"post":{"tags":["paper_trading"],"summary":"Sell Position","description":"Sell a position by converting it to a trade request.\n\nThis endpoint is a convenience wrapper that fetches the position and converts it\nto a trade request, then delegates to the trade execution endpoint.","operationId":"sell_position_api_paper_positions__position_id__sell_post","parameters":[{"name":"position_id","in":"path","required":true,"schema":{"type":"string","title":"Position Id"}}],"requestBody":{"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Sell Position Api Paper Positions  Position Id  Sell Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/strategies/{strategy_id}/disable":{"post":{"tags":["paper_trading"],"summary":"Disable Strategy","description":"Disable a strategy by setting enabled=False.\n\nArgs:\n    strategy_id: Strategy ID to disable\n    request: FastAPI Request object\n    \nReturns:\n    Dictionary with status and strategy_id\n    \nRaises:\n    HTTPException: If strategy not found or database unavailable","operationId":"disable_strategy_api_paper_strategies__strategy_id__disable_post","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Disable Strategy Api Paper Strategies  Strategy Id  Disable Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios/{portfolio_id}/stats":{"get":{"tags":["paper_trading"],"summary":"Get Portfolio Stats","description":"Calculate portfolio statistics: initial investment, total sold, percent change.\n\nUses PaperPortfolioService for all database operations with retry logic.","operationId":"get_portfolio_stats_api_paper_portfolios__portfolio_id__stats_get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio Stats Api Paper Portfolios  Portfolio Id  Stats Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios":{"get":{"tags":["paper_trading"],"summary":"List Paper Portfolios","description":"List paper trading portfolios for the authenticated user.\n\nEnforces one default test portfolio and auto-creates it if missing.\nUses PaperPortfolioService for all operations.","operationId":"list_paper_portfolios_api_paper_portfolios_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Response List Paper Portfolios Api Paper Portfolios Get"}}}}}},"post":{"tags":["paper_trading"],"summary":"Create Paper Portfolio","description":"Create a paper trading portfolio.\n\nNote: In test mode, creation is disabled - returns the default portfolio.\nUses PaperPortfolioService for all operations.","operationId":"create_paper_portfolio_api_paper_portfolios_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/CreatePortfolioRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Create Paper Portfolio Api Paper Portfolios Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios/{portfolio_id}":{"patch":{"tags":["paper_trading"],"summary":"Update Paper Portfolio","description":"Update a paper trading portfolio (name, etc.).\n\nUses PaperPortfolioService for all operations.","operationId":"update_paper_portfolio_api_paper_portfolios__portfolio_id__patch","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/UpdatePortfolioRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Paper Portfolio Api Paper Portfolios  Portfolio Id  Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["paper_trading"],"summary":"Delete Paper Portfolio","description":"Delete a paper trading portfolio.\n\nOnly allowed if portfolio has no open positions or accounts with balance.\nUses PaperPortfolioService for all operations.","operationId":"delete_paper_portfolio_api_paper_portfolios__portfolio_id__delete","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Paper Portfolio Api Paper Portfolios  Portfolio Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios/cleanup":{"post":{"tags":["paper_trading"],"summary":"Cleanup Portfolios","description":"Cleanup extra portfolios - keeps only one default test portfolio.\n\nTransfers all positions and balances to the default portfolio.\nUses PaperPortfolioService for all operations.","operationId":"cleanup_portfolios_api_paper_portfolios_cleanup_post","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Cleanup Portfolios Api Paper Portfolios Cleanup Post"}}}}}}},"/api/paper/convert":{"post":{"tags":["paper_trading"],"summary":"Convert Currency","description":"Convert currency from one type to another (e.g., USD to BTC, BTC to ETH).\n\nFor test mode - simulates currency conversion using provided or default rates.\nUses PaperAccountService for all operations.","operationId":"convert_currency_api_paper_convert_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Convert Currency Api Paper Convert Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/balances":{"get":{"tags":["paper_trading"],"summary":"Get Paper Balances","description":"Get paper trading account balances for the authenticated user.\n\nBalances are distinct per portfolio (enforced by portfolio_id FK).\nUses PaperAccountService for all operations.\n\nAuto-creates default portfolio with 10k USD balance if none exists.","operationId":"get_paper_balances_api_paper_balances_get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Paper Balances Api Paper Balances Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/deposit":{"post":{"tags":["paper_trading"],"summary":"Paper Deposit","description":"Deposit funds to a paper trading account.\n\nUses PaperAccountService for all operations.","operationId":"paper_deposit_api_paper_deposit_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepositWithdrawRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Paper Deposit Api Paper Deposit Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/pnl/stream":{"get":{"tags":["paper_trading"],"summary":"Stream Pnl","operationId":"stream_pnl_api_paper_pnl_stream_get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/withdraw":{"post":{"tags":["paper_trading"],"summary":"Paper Withdraw","description":"Withdraw funds from a paper trading account.\n\nUses PaperAccountService for all operations.","operationId":"paper_withdraw_api_paper_withdraw_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/DepositWithdrawRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Paper Withdraw Api Paper Withdraw Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios/{portfolio_id}/state":{"get":{"tags":["paper_trading"],"summary":"Get Portfolio State","description":"Get unified portfolio state including strategies, positions, ROI, and accounts in a single call.\n\nThis endpoint is optimized for frontend refresh cycles to avoid hundreds of API calls.\nReturns all data needed for portfolio dashboard in one request.\n\nReturns:\n    - strategies: List of strategies with ROI and state\n    - positions: List of open positions with current prices\n    - accounts: Account balances\n    - portfolio_stats: Portfolio-level statistics\n    - last_updated: Timestamp of when data was fetched","operationId":"get_portfolio_state_api_paper_portfolios__portfolio_id__state_get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio State Api Paper Portfolios  Portfolio Id  State Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/positions":{"get":{"tags":["paper_trading"],"summary":"List Positions","description":"List open paper trading positions for the authenticated user.\n\nReturns positions with stop-loss and take-profit prices.\nPositions are properly separated by strategy_id to allow multiple strategies\nto trade the same ticker independently. Each strategy maintains its own positions.\n\nUses PaperPositionService for all operations.\n\nArgs:\n    portfolio_id: Optional portfolio ID to filter positions\n    strategy_id: Optional strategy ID to filter positions by strategy","operationId":"list_positions_api_paper_positions_get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}},{"name":"strategy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Positions Api Paper Positions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/positions/{position_id}/stop-loss":{"patch":{"tags":["paper_trading"],"summary":"Update Position Stop Loss","description":"Update stop-loss price for a position (used for dynamic trailing stops).\n\nThis allows the frontend to update trailing stops without executing a trade.\nUses PaperPositionService for all operations.","operationId":"update_position_stop_loss_api_paper_positions__position_id__stop_loss_patch","parameters":[{"name":"position_id","in":"path","required":true,"schema":{"type":"string","title":"Position Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Position Stop Loss Api Paper Positions  Position Id  Stop Loss Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/positions/{position_id}/strategy":{"patch":{"tags":["paper_trading"],"summary":"Update Position Strategy","description":"Update the strategy_id for a position.\n\nAllows users to change which strategy a position belongs to while preserving\nreserve amounts and hyperparameters.\nUses PaperPositionService for all operations.","operationId":"update_position_strategy_api_paper_positions__position_id__strategy_patch","parameters":[{"name":"position_id","in":"path","required":true,"schema":{"type":"string","title":"Position Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Body"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Position Strategy Api Paper Positions  Position Id  Strategy Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/reset":{"post":{"tags":["paper_trading"],"summary":"Reset Paper","description":"Reset a paper portfolio by closing all positions and resetting balances to default (10k USD).\n\nUses PaperPositionService and PaperAccountService for all operations.","operationId":"reset_paper_api_paper_reset_post","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reset Paper Api Paper Reset Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/trade":{"post":{"tags":["paper_trading"],"summary":"Execute Paper Trade","description":"Execute a paper trade (buy or sell).\n\nUses PaperTradeService for all business logic, including:\n- Portfolio resolution\n- Account management\n- Price fetching\n- Trade sizing and execution\n- Position management\n- Fee calculation\n- Trade logging\n- Notifications","operationId":"execute_paper_trade_api_paper_trade_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradeRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/TradeResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/strategies/{strategy_id}/sell-all":{"post":{"tags":["paper_trading"],"summary":"Sell Strategy All","description":"Sell all open positions for a specific strategy, freeing reserved capital and returning it to portfolio available_balance.\n\nUses PaperPositionClosingService for all business logic.","operationId":"sell_strategy_all_api_paper_strategies__strategy_id__sell_all_post","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCloseResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/paper/portfolios/{portfolio_id}/sell-all":{"post":{"tags":["paper_trading"],"summary":"Sell All Positions","description":"Sell all open positions in a portfolio, converting everything to USD/fiat.\nUses slippage simulation for each position.\n\nUses PaperPositionClosingService for all business logic.","operationId":"sell_all_positions_api_paper_portfolios__portfolio_id__sell_all_post","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/BatchCloseResult"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/":{"get":{"tags":["strategies"],"summary":"List Strategies","description":"List all strategies for the authenticated user, optionally filtered by portfolio_id.\n\nUses retry logic to handle transient database connection issues.","operationId":"list_strategies_api_strategies__get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response List Strategies Api Strategies  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"post":{"tags":["strategies"],"summary":"Create Strategy","operationId":"create_strategy_api_strategies__post","requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyCreate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Create Strategy Api Strategies  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}":{"patch":{"tags":["strategies"],"summary":"Update Strategy","description":"Update an existing strategy.\n\nSupports updating:\n- Standard strategy fields\n- Dynamic hyperparameters (stored in metadata JSONB)\n\nHyperparameters from body.hyperparameters are merged into existing metadata.hyperparameters.","operationId":"update_strategy_api_strategies__strategy_id__patch","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyUpdate"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Update Strategy Api Strategies  Strategy Id  Patch"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["strategies"],"summary":"Delete Strategy","description":"Delete a strategy only when all open positions for it are closed.","operationId":"delete_strategy_api_strategies__strategy_id__delete","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Delete Strategy Api Strategies  Strategy Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/positions":{"get":{"tags":["strategies"],"summary":"Get Strategy Positions","description":"Get positions for a specific strategy.\n\nFor custom strategies (V1), filters to show only test positions.\n\nArgs:\n    strategy_id: Strategy ID\n    request: FastAPI request object\n    portfolio_id: Optional portfolio ID filter\n    filter_custom: If True, only return positions for custom strategies\n    test_only: If True, only return test positions (V1 custom strategies)\n    \nReturns:\n    List of position dictionaries","operationId":"get_strategy_positions_api_strategies__strategy_id__positions_get","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}},{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}},{"name":"filter_custom","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Filter Custom"}},{"name":"test_only","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Test Only"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Strategy Positions Api Strategies  Strategy Id  Positions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/resolve":{"post":{"tags":["strategies"],"summary":"Resolve Strategy Manual","description":"Manually trigger strategy resolution (for custom strategies).\n\nV1 custom strategies can only be triggered manually and in test mode.\n\nArgs:\n    strategy_id: Strategy ID\n    request: FastAPI request object\n    manual_trigger: Flag indicating manual trigger\n    test_mode: Flag indicating test mode execution\n    \nReturns:\n    Strategy resolution result","operationId":"resolve_strategy_manual_api_strategies__strategy_id__resolve_post","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}},{"name":"manual_trigger","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Manual Trigger"}},{"name":"test_mode","in":"query","required":false,"schema":{"anyOf":[{"type":"boolean"},{"type":"null"}],"default":false,"title":"Test Mode"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Resolve Strategy Manual Api Strategies  Strategy Id  Resolve Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/initialize":{"post":{"tags":["strategies"],"summary":"Initialize Strategy","description":"Initialize a new strategy by executing its first trade.\n\nUnified endpoint that works for ALL strategy types:\n- agentic: Allocates reserved_amount based on wallet distribution (resolve_cycle mode)\n- dqn: Allocates reserved_amount based on q_values signals (resolve_cycle mode)\n- forecasting_trend: Allocates reserved_amount based on trend signals (resolve_cycle mode)\n- dynamic (strategy_builder): Uses init_pipeline or resolve_pipeline\n- manual: Returns skipped status (manual strategies use buy/sell controls)\n\nOnly executes if strategy has no existing positions or trades (unless strategy allows re-init).\nUses strategy-specific logic based on strategy_type and metadata.","operationId":"initialize_strategy_api_strategies__strategy_id__initialize_post","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Initialize Strategy Api Strategies  Strategy Id  Initialize Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/stats":{"get":{"tags":["strategies"],"summary":"Strategy Stats","description":"Compute performance stats over recent trade logs for the user.\n- avg_roi: mean of per-trade ROI (realized or unrealized if available)\n- std/variance: dispersion of ROI\n- mse/mape: if trade logs include expected_return (from strategy/confidence),\n  compute MSE/MAPE between expected_return and realized_roi.","operationId":"strategy_stats_api_strategies_stats_get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}},{"name":"strategy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","default":500,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyStatsResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/roi":{"get":{"tags":["strategies"],"summary":"Get Strategy Roi","description":"Get ROI and performance metrics for a specific strategy.\n\nReturns:\n- ROI percentage\n- Total gains\n- Total cost and value\n- Position details with current prices vs bought prices","operationId":"get_strategy_roi_api_strategies__strategy_id__roi_get","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyROIResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/state":{"get":{"tags":["strategies"],"summary":"Get Strategy State","description":"Get strategy state including metadata, allocations, and execution history.\n\nReturns:\n- Strategy state from metadata field\n- Last execution results\n- Allocations (for agentic strategies)\n- Position details (for DQN/Forecasting strategies)","operationId":"get_strategy_state_api_strategies__strategy_id__state_get","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Strategy State Api Strategies  Strategy Id  State Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_id}/executions":{"get":{"tags":["strategies"],"summary":"Get Strategy Executions","description":"Get strategy execution history.\n\nReturns list of execution results with:\n- processed, executed, skipped counts\n- errors\n- timestamp\n- cycle_type","operationId":"get_strategy_executions_api_strategies__strategy_id__executions_get","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":20,"title":"Limit"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"type":"object","additionalProperties":true},"title":"Response Get Strategy Executions Api Strategies  Strategy Id  Executions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/logs":{"get":{"tags":["strategies"],"summary":"List Trade Logs","description":"Get PAPER TRADING trade logs for the user with optional filtering by portfolio, strategy, or action.\n\n**IMPORTANT**: This endpoint only returns paper trading logs from the trade_logs table.\nProduction trading logs are in production_orders table and should be fetched via /api/production/trade-logs.\nThis ensures complete isolation between paper and production trading.\n\nReturns comprehensive logs including buy, sell, hold, and distribution decisions.","operationId":"list_trade_logs_api_strategies_logs_get","parameters":[{"name":"portfolio_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"}},{"name":"strategy_id","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id"}},{"name":"action","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by action: 'buy', 'sell', or 'hold'","title":"Action"},"description":"Filter by action: 'buy', 'sell', or 'hold'"},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of logs to return","default":100,"title":"Limit"},"description":"Maximum number of logs to return"}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"array","items":{"$ref":"#/components/schemas/TradeLogResponse"},"title":"Response List Trade Logs Api Strategies Logs Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/{strategy_type}/schema":{"get":{"tags":["strategies"],"summary":"Get Strategy Schema","description":"Get hyperparameter schema for a specific strategy type.\n\nReturns JSON Schema that defines form fields for dynamic UI generation.","operationId":"get_strategy_schema_api_strategies__strategy_type__schema_get","parameters":[{"name":"strategy_type","in":"path","required":true,"schema":{"type":"string","title":"Strategy Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Strategy Schema Api Strategies  Strategy Type  Schema Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategies/types":{"get":{"tags":["strategies"],"summary":"List Strategy Types","description":"List all available strategy types with metadata for UI integration.\n\nReturns strategy registry information including:\n- Strategy types and aliases\n- Required services\n- Descriptions\n- Supported intervals\n- Categories","operationId":"list_strategy_types_api_strategies_types_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Strategy Types Api Strategies Types Get"}}}}}}},"/api/strategies/user/{user_id}/agentic":{"get":{"tags":["strategies"],"summary":"Get User Agentic Strategies Endpoint","description":"Get agentic strategies for a user with wallet distributions and ROI.\n\nReturns filtered and sorted list of agentic strategies with:\n- Strategy metadata (id, name, type)\n- Wallet distribution data\n- Computed ROI and gains from backend\n- Buy/sell signals\n\nQuery Parameters:\n- limit: Maximum number of strategies to return (default: 5)\n- sort_by: Sort field (roi, name, type) - default: roi\n- filter_by_type: Filter by strategy type\n- filter_by_min_roi: Minimum ROI threshold\n- name_pattern: Pattern to match in strategy name","operationId":"get_user_agentic_strategies_endpoint_api_strategies_user__user_id__agentic_get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"default":5,"title":"Limit"}},{"name":"sort_by","in":"query","required":false,"schema":{"type":"string","default":"roi","title":"Sort By"}},{"name":"filter_by_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filter By Type"}},{"name":"filter_by_min_roi","in":"query","required":false,"schema":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Filter By Min Roi"}},{"name":"name_pattern","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name Pattern"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get User Agentic Strategies Endpoint Api Strategies User  User Id  Agentic Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/blocks/":{"get":{"tags":["blocks"],"summary":"List Blocks","description":"List all registered blocks with their metadata.\n\nReturns:\n    Dictionary with blocks grouped by category","operationId":"list_blocks_api_blocks__get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response List Blocks Api Blocks  Get"}}}}}}},"/api/blocks/categories":{"get":{"tags":["blocks"],"summary":"Get Blocks By Category Endpoint","description":"Get all blocks grouped by category with their schemas.\n\nReturns:\n    Dictionary mapping category to list of block schemas","operationId":"get_blocks_by_category_endpoint_api_blocks_categories_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"items":{"additionalProperties":true,"type":"object"},"type":"array"},"type":"object","title":"Response Get Blocks By Category Endpoint Api Blocks Categories Get"}}}}}}},"/api/blocks/end/schema":{"get":{"tags":["blocks"],"summary":"Get End Block Schemas","description":"Get schemas for all registered end blocks.\n\nReturns:\n    Dictionary mapping end block_type -> enriched JSON schema","operationId":"get_end_block_schemas_api_blocks_end_schema_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get End Block Schemas Api Blocks End Schema Get"}}}}}}},"/api/blocks/init/schema":{"get":{"tags":["blocks"],"summary":"Get Init Block Schemas","description":"Get schemas for all registered init blocks.\n\nReturns:\n    Dictionary mapping init block_type -> enriched JSON schema","operationId":"get_init_block_schemas_api_blocks_init_schema_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Init Block Schemas Api Blocks Init Schema Get"}}}}}}},"/api/blocks/{block_type}/schema":{"get":{"tags":["blocks"],"summary":"Get Block Schema Endpoint","description":"Get JSON schema for a specific block type.\n\nArgs:\n    block_type: Block type identifier\n    \nReturns:\n    JSON schema dictionary","operationId":"get_block_schema_endpoint_api_blocks__block_type__schema_get","parameters":[{"name":"block_type","in":"path","required":true,"schema":{"type":"string","title":"Block Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Block Schema Endpoint Api Blocks  Block Type  Schema Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/blocks/schemas/all":{"get":{"tags":["blocks"],"summary":"Get All Schemas","description":"Get JSON schemas for all registered blocks.\n\nReturns:\n    Dictionary mapping block_type to JSON schema","operationId":"get_all_schemas_api_blocks_schemas_all_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":{"additionalProperties":true,"type":"object"},"type":"object","title":"Response Get All Schemas Api Blocks Schemas All Get"}}}}}}},"/api/blocks/pipeline/execute":{"post":{"tags":["blocks"],"summary":"Execute Pipeline","description":"Execute a pipeline of blocks.\n\nArgs:\n    request_body: Pipeline execution request with pipeline definition and context\n    request: FastAPI request object\n    \nReturns:\n    Execution results with success status, executed blocks, errors, etc.","operationId":"execute_pipeline_api_blocks_pipeline_execute_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/PipelineExecuteRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Execute Pipeline Api Blocks Pipeline Execute Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/blocks/{block_type}/metadata":{"get":{"tags":["blocks"],"summary":"Get Block Metadata","description":"Get metadata for a specific block type.\n\nArgs:\n    block_type: Block type identifier\n    \nReturns:\n    Block metadata dictionary","operationId":"get_block_metadata_api_blocks__block_type__metadata_get","parameters":[{"name":"block_type","in":"path","required":true,"schema":{"type":"string","title":"Block Type"}}],"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Block Metadata Api Blocks  Block Type  Metadata Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/blocks/schema/reconstruct":{"post":{"tags":["blocks"],"summary":"Reconstruct Nested Object","description":"Reconstruct a nested object from dot-notation paths.\n\nRequest body:\n    {\n        \"paths\": {\n            \"object.data.field\": \"value\",\n            \"object.data.other\": 123\n        }\n    }\n\nReturns:\n    Reconstructed nested object:\n    {\n        \"object\": {\n            \"data\": {\n                \"field\": \"value\",\n                \"other\": 123\n            }\n        }\n    }","operationId":"reconstruct_nested_object_api_blocks_schema_reconstruct_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Request"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Reconstruct Nested Object Api Blocks Schema Reconstruct Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategy-builder/build":{"post":{"tags":["strategy-builder"],"summary":"Build Strategy","description":"Build a strategy from JSON definition.\n\nArgs:\n    request_body: Strategy definition dictionary\n    request: FastAPI request object\n    \nReturns:\n    Strategy definition response with metadata","operationId":"build_strategy_api_strategy_builder_build_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyDefinitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyDefinitionResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategy-builder/available-blocks":{"get":{"tags":["strategy-builder"],"summary":"Get Available Blocks","description":"Get all available blocks for strategy building.\n\nReturns:\n    Dictionary with blocks grouped by category","operationId":"get_available_blocks_api_strategy_builder_available_blocks_get","responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Available Blocks Api Strategy Builder Available Blocks Get"}}}}}}},"/api/strategy-builder/build-strategy":{"post":{"tags":["strategy-builder"],"summary":"Build And Save Strategy","description":"Build and save a custom strategy from pipeline definition.\n\nThis endpoint creates a strategy from a no-code pipeline builder.\nV1 custom strategies are marked with flags to prevent automated execution.\n\nArgs:\n    request_body: Strategy build request with pipeline and metadata\n    request: FastAPI request object\n    \nReturns:\n    Created strategy dictionary with ID","operationId":"build_and_save_strategy_api_strategy_builder_build_strategy_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/BuildStrategyRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Build And Save Strategy Api Strategy Builder Build Strategy Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/strategy-builder/validate-definition":{"post":{"tags":["strategy-builder"],"summary":"Validate Strategy Definition","description":"Validate a strategy definition without building it.\n\nArgs:\n    request_body: Strategy definition dictionary\n    request: FastAPI request object\n    \nReturns:\n    Validation result with errors if any","operationId":"validate_strategy_definition_api_strategy_builder_validate_definition_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/StrategyDefinitionRequest"}}},"required":true},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Validate Strategy Definition Api Strategy Builder Validate Definition Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/portfolios":{"get":{"tags":["agentic"],"summary":"Get All Portfolios","description":"Retrieve all portfolios managed by the agentic trading system.\n    \n    Returns a list of portfolios with their current balances, holdings, and performance metrics.\n    Each portfolio includes:\n    - Portfolio ID and name\n    - Total value in USDC\n    - Current balance\n    - Holdings breakdown\n    - Daily and total P&L\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_portfolios_api_agentic_portfolios_get","responses":{"200":{"description":"List of portfolios with their details","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Portfolios Api Agentic Portfolios Get"}}}}}}},"/api/agentic/portfolios/{portfolio_id}":{"get":{"tags":["agentic"],"summary":"Get Portfolio Details","description":"Retrieve detailed information about a specific portfolio.\n    \n    Returns comprehensive portfolio data including:\n    - Current balance and total value\n    - All holdings with quantities and values\n    - Open positions\n    - Performance metrics (daily P&L, total P&L)\n    - Creation and update timestamps\n    \n    **Parameters:**\n    - `portfolio_id` (path): Unique identifier for the portfolio\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_portfolio_api_agentic_portfolios__portfolio_id__get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}}],"responses":{"200":{"description":"Portfolio details with holdings and performance","content":{"application/json":{"schema":{"$ref":"#/components/schemas/PortfolioResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/portfolios/{portfolio_id}/trades":{"get":{"tags":["agentic"],"summary":"Get Portfolio Trades","description":"Retrieve trade history for a specific portfolio.\n    \n    Returns paginated list of trades including:\n    - Trade ID and timestamp\n    - Ticker and action (BUY/SELL)\n    - Quantity and price\n    - Execution status\n    - P&L (if closed)\n    \n    **Parameters:**\n    - `portfolio_id` (path): Portfolio identifier\n    \n    **Query Parameters:**\n    - `limit` (optional, 1-100): Maximum number of trades to return (default: 50)\n    - `offset` (optional, >=0): Number of trades to skip for pagination (default: 0)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_portfolio_trades_api_agentic_portfolios__portfolio_id__trades_get","parameters":[{"name":"portfolio_id","in":"path","required":true,"schema":{"type":"string","title":"Portfolio Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of trades","default":50,"title":"Limit"},"description":"Maximum number of trades"},{"name":"offset","in":"query","required":false,"schema":{"type":"integer","minimum":0,"description":"Pagination offset","default":0,"title":"Offset"},"description":"Pagination offset"}],"responses":{"200":{"description":"Paginated list of trades for the portfolio","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Portfolio Trades Api Agentic Portfolios  Portfolio Id  Trades Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/fusion":{"get":{"tags":["agentic"],"summary":"Get Fusion Recommendations (DEPRECATED)","description":"DEPRECATED: Fusion recommendations are no longer supported.\n    \n    Use wallet distributions from agentic strategies instead.","operationId":"get_fusion_recommendations_api_agentic_pipelines_fusion_get","responses":{"200":{"description":"410 Gone error","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Fusion Recommendations Api Agentic Pipelines Fusion Get"}}}}}}},"/api/agentic/pipelines/trend/{ticker}":{"get":{"tags":["agentic"],"summary":"Get Trend Assessment","description":"Retrieve trend assessment for a specific ticker.\n    \n    Trend assessments combine:\n    - **DQN Predictions:** Deep Q-Network model outputs\n    - **Technical Analysis:** RSI, MACD, Bollinger Bands indicators\n    - **Momentum Signals:** Price momentum and volatility metrics\n    \n    Returns:\n    - Trend score (0.0-1.0)\n    - Recommended action (BUY/SELL/HOLD)\n    - Confidence level\n    - Momentum and volatility metrics\n    - Supporting signals breakdown\n    \n    **Parameters:**\n    - `ticker` (path): Trading pair symbol (e.g., \"BTC-USD\")\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_trend_assessment_api_agentic_pipelines_trend__ticker__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}}],"responses":{"200":{"description":"Trend assessment with scores and recommendations","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Trend Assessment Api Agentic Pipelines Trend  Ticker  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/fact/{ticker}":{"get":{"tags":["agentic"],"summary":"Get Fact Insight","description":"Retrieve fact-based insight for a specific ticker.\n    \n    Fact insights combine:\n    - **News Sentiment:** Aggregated sentiment from news sources\n    - **Market Research:** Fundamental analysis and research reports\n    - **Anomaly Detection:** Unusual patterns or events\n    \n    Returns:\n    - Sentiment score (-1.0 to 1.0)\n    - Confidence level\n    - Investment thesis\n    - Detected anomalies\n    - Reference sources\n    - Sentiment breakdown by source\n    \n    **Parameters:**\n    - `ticker` (path): Trading pair symbol (e.g., \"BTC-USD\")\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_fact_insight_api_agentic_pipelines_fact__ticker__get","parameters":[{"name":"ticker","in":"path","required":true,"schema":{"type":"string","title":"Ticker"}}],"responses":{"200":{"description":"Fact insight with sentiment and analysis","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Fact Insight Api Agentic Pipelines Fact  Ticker  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/trend/run":{"post":{"tags":["agentic"],"summary":"Run Trend Pipeline","description":"Manually trigger the trend pipeline for a specific ticker.\n    \n    This endpoint executes the trend analysis pipeline which:\n    1. Fetches latest market data\n    2. Runs DQN model predictions\n    3. Calculates technical indicators\n    4. Generates trend assessment\n    \n    **Request Body:**\n    - `ticker` (required): Trading pair symbol (e.g., \"BTC-USD\")\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Pipeline execution may take 5-15 seconds.","operationId":"run_trend_pipeline_api_agentic_pipelines_trend_run_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body containing ticker symbol"}}},"required":true},"responses":{"200":{"description":"Trend assessment result","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Run Trend Pipeline Api Agentic Pipelines Trend Run Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/fact/run":{"post":{"tags":["agentic"],"summary":"Run Fact Pipeline","description":"Manually trigger the fact pipeline for a specific ticker.\n    \n    This endpoint executes the fact analysis pipeline which:\n    1. Fetches latest news and research\n    2. Analyzes sentiment using LLM\n    3. Detects market anomalies\n    4. Generates fact insight\n    \n    **Request Body:**\n    - `ticker` (required): Trading pair symbol (e.g., \"BTC-USD\")\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Pipeline execution may take 10-30 seconds due to LLM processing.","operationId":"run_fact_pipeline_api_agentic_pipelines_fact_run_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body containing ticker symbol"}}},"required":true},"responses":{"200":{"description":"Fact insight result","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Run Fact Pipeline Api Agentic Pipelines Fact Run Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/fusion/run":{"post":{"tags":["agentic"],"summary":"Run Fusion Pipeline (DEPRECATED)","description":"DEPRECATED: Fusion pipeline is no longer supported.\n    \n    Use wallet distributions from agentic strategies instead.","operationId":"run_fusion_pipeline_api_agentic_pipelines_fusion_run_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body containing ticker symbol"}}},"required":true},"responses":{"200":{"description":"410 Gone error","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Run Fusion Pipeline Api Agentic Pipelines Fusion Run Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/pipelines/prune/run":{"post":{"tags":["agentic"],"summary":"Run Memory Pruning Pipeline","description":"Manually trigger the memory pruning pipeline.\n    \n    This endpoint:\n    1. Removes old trade history beyond configured limit\n    2. Consolidates similar news entries\n    3. Deduplicates memory entries\n    4. Optimizes memory storage\n    \n    **Process:**\n    - Trims trade history to configured limit (default: 100)\n    - Groups similar news entries by similarity threshold (default: 0.82)\n    - Aggregates sentiment and confidence scores\n    - Removes duplicate entries\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Pruning may take 5-10 seconds depending on memory size.","operationId":"run_prune_pipeline_api_agentic_pipelines_prune_run_post","responses":{"200":{"description":"Pruning results with counts of removed/consolidated entries","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Run Prune Pipeline Api Agentic Pipelines Prune Run Post"}}}}}}},"/api/agentic/pipelines/status":{"get":{"tags":["agentic"],"summary":"Get Pipeline Status","description":"Retrieve status of all decision pipelines.\n    \n    Returns information about:\n    - Trend pipeline: Last run time, status, recent assessments\n    - Fact pipeline: Last run time, status, recent insights\n    - Fusion pipeline: Last run time, status, recent recommendations\n    - Prune pipeline: Last run time, status, memory stats\n    \n    Each pipeline status includes:\n    - Enabled/disabled state\n    - Last execution timestamp\n    - Execution count\n    - Error messages (if any)\n    - Next scheduled run time\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_pipeline_status_api_agentic_pipelines_status_get","responses":{"200":{"description":"Status of all pipelines with execution details","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Pipeline Status Api Agentic Pipelines Status Get"}}}}}}},"/api/agentic/agents/status":{"get":{"tags":["agentic"],"summary":"Get Agent Status","description":"Retrieve status of all agentic trading agents.\n    \n    Returns status information for:\n    - **Copy Trade Agent:** Enabled/disabled state\n    - **Trend Agent:** List of tickers with trend signals\n    - **Fact Agent:** List of tickers with fact insights\n    - **Fusion Agent:** (Deprecated - no longer available)\n    - **Logfire Status:** Whether structured logging is enabled\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_agent_status_api_agentic_agents_status_get","responses":{"200":{"description":"Status of all agents with signal counts","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AgentStatus"}}}}}}},"/api/agentic/agents/rewards":{"get":{"tags":["agentic"],"summary":"Get Agent Rewards","description":"Retrieve reward summary for all agents.\n    \n    Returns performance-based rewards calculated from:\n    - Trade execution success\n    - Signal accuracy\n    - Portfolio performance contribution\n    \n    **Returns:**\n    - Total trades executed\n    - Total reward accumulated\n    - Average reward per trade\n    - Reward breakdown by agent type\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_agent_rewards_api_agentic_agents_rewards_get","responses":{"200":{"description":"Agent reward summary with performance metrics","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Agent Rewards Api Agentic Agents Rewards Get"}}}}}}},"/api/agentic/agents/copytrade/toggle":{"post":{"tags":["agentic"],"summary":"Toggle Copy Trade Agent","description":"Enable or disable the copy trade agent.\n    \n    The copy trade agent monitors successful traders and replicates\n    their strategies and positions.\n    \n    **Request Body:**\n    - `enabled` (required, boolean): Enable or disable the agent\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"toggle_copytrade_api_agentic_agents_copytrade_toggle_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body with enabled boolean"}}},"required":true},"responses":{"200":{"description":"Updated copy trade agent status","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Toggle Copytrade Api Agentic Agents Copytrade Toggle Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/orchestrator/wallet-plan":{"get":{"tags":["agentic"],"summary":"Get Wallet Allocation Plan","description":"Retrieve the latest wallet allocation plan from the orchestrator.\n    \n    The wallet plan contains recommended allocations for all enabled assets\n    based on the active strategy mode. Each allocation includes:\n    - Target allocation percentage\n    - Target USDC amount\n    - Confidence score\n    - Risk level\n    - Stop-loss boundaries\n    - Gas fee estimates\n    - P&L estimates\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_wallet_plan_api_agentic_orchestrator_wallet_plan_get","responses":{"200":{"description":"Latest wallet allocation plan with asset allocations","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Wallet Plan Api Agentic Orchestrator Wallet Plan Get"}}}}}}},"/api/agentic/orchestrator/wallet-plan/history":{"get":{"tags":["agentic"],"summary":"Get Wallet Plan History","description":"Retrieve historical wallet allocation plans.\n    \n    Returns a list of previous wallet plans generated by the orchestrator,\n    allowing you to track how allocations have changed over time.\n    \n    **Query Parameters:**\n    - `limit` (optional, 1-50): Maximum number of historical plans to return (default: 10)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_wallet_plan_history_api_agentic_orchestrator_wallet_plan_history_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":50,"minimum":1,"description":"Maximum number of plans to return","default":10,"title":"Limit"},"description":"Maximum number of plans to return"}],"responses":{"200":{"description":"List of historical wallet allocation plans","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Wallet Plan History Api Agentic Orchestrator Wallet Plan History Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/orchestrator/strategy-mode":{"get":{"tags":["agentic"],"summary":"Get Strategy Mode","description":"Retrieve the currently active strategy mode.\n    \n    The strategy mode determines which trading strategy the orchestrator\n    uses to generate wallet allocation plans. Available modes include:\n    - `wallet_balancing`: Optimizes portfolio allocation\n    - `trading`: General trading strategy\n    - `momentum_sniper`: Captures momentum opportunities\n    - `mean_reversion`: Exploits price reversions\n    - `trend_follower`: Follows established trends\n    - `arbitrage_hunter`: Seeks arbitrage opportunities\n    - `news_catalyst`: Reacts to news events\n    - `risk_adjusted`: Risk-optimized allocations\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_strategy_mode_api_agentic_orchestrator_strategy_mode_get","responses":{"200":{"description":"Current strategy mode configuration","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Strategy Mode Api Agentic Orchestrator Strategy Mode Get"}}}}}},"post":{"tags":["agentic"],"summary":"Set Strategy Mode","description":"Change the active strategy mode for the orchestrator.\n    \n    Setting a new strategy mode will trigger the orchestrator to:\n    1. Generate a new wallet allocation plan using the selected strategy\n    2. Update all pipeline weightings based on strategy preferences\n    3. Apply strategy-specific CAMEL worker configurations\n    \n    **Request Body:**\n    - `strategy_mode` (required, string): Strategy mode identifier\n    \n    **Available Modes:**\n    - `wallet_balancing`, `trading`, `momentum_sniper`, `mean_reversion`\n    - `trend_follower`, `arbitrage_hunter`, `news_catalyst`, `risk_adjusted`\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"set_strategy_mode_api_agentic_orchestrator_strategy_mode_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body with strategy_mode"}}},"required":true},"responses":{"200":{"description":"Updated strategy mode configuration","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Set Strategy Mode Api Agentic Orchestrator Strategy Mode Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/orchestrator/test-all-strategies":{"post":{"tags":["agentic"],"summary":"Test All Strategies","description":"Manually trigger testing of all trading strategies in parallel.\n    \n    This endpoint runs all strategy modes simultaneously and generates\n    wallet allocation plans for each. Useful for comparing strategy\n    performance and selecting the best approach.\n    \n    **Request Body:**\n    - `force_refresh` (optional, boolean): Force refresh even if recent results exist\n    - `tickers` (optional, array): Specific tickers to test (default: all enabled assets)\n    \n    **Process:**\n    1. Tests each strategy mode in parallel\n    2. Generates wallet allocation plans\n    3. Calculates performance metrics\n    4. Returns comparison results\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Testing all strategies may take 30-60 seconds.","operationId":"test_all_strategies_api_agentic_orchestrator_test_all_strategies_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body with optional force_refresh and tickers"}}},"required":true},"responses":{"200":{"description":"Results of testing all strategies","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Test All Strategies Api Agentic Orchestrator Test All Strategies Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/orchestrator/strategy-comparison":{"get":{"tags":["agentic"],"summary":"Get Strategy Comparison","description":"Retrieve comparison of all available trading strategies.\n    \n    This endpoint tests all strategy modes in parallel and returns:\n    - Strategy name and description\n    - Focus area (e.g., \"Momentum\", \"Mean Reversion\", \"Risk Adjusted\")\n    - Trading interval\n    - Generated wallet allocation plan\n    - Performance metrics (if available)\n    - Error messages (if strategy failed)\n    \n    **Available Strategies:**\n    - `wallet_balancing`: Optimizes portfolio allocation\n    - `trading`: General trading strategy\n    - `momentum_sniper`: Captures momentum opportunities\n    - `mean_reversion`: Exploits price reversions\n    - `trend_follower`: Follows established trends\n    - `arbitrage_hunter`: Seeks arbitrage opportunities\n    - `news_catalyst`: Reacts to news events\n    - `risk_adjusted`: Risk-optimized allocations\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Strategy comparison may take 30-60 seconds as it tests all strategies.","operationId":"get_strategy_comparison_api_agentic_orchestrator_strategy_comparison_get","responses":{"200":{"description":"Comparison of all strategies with their plans and metrics","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Strategy Comparison Api Agentic Orchestrator Strategy Comparison Get"}}}}}}},"/api/agentic/ai/decisions":{"get":{"tags":["agentic"],"summary":"Get AI Decisions","description":"Retrieve recent AI-powered trading decisions.\n    \n    Returns a list of decisions made by the AI workforce orchestrator,\n    including both automated and human-validated decisions.\n    \n    Each decision includes:\n    - Decision ID and ticker\n    - Recommended action (BUY/SELL/HOLD)\n    - Status (completed/pending/degraded/error)\n    - Timestamp and completion time\n    - AI explanation\n    - Execution steps and results\n    - Error messages (if failed)\n    \n    **Query Parameters:**\n    - `limit` (optional, 1-100): Maximum number of decisions to return (default: 50)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_ai_decisions_api_agentic_ai_decisions_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of decisions to return","default":50,"title":"Limit"},"description":"Maximum number of decisions to return"}],"responses":{"200":{"description":"List of recent AI decisions with details","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Ai Decisions Api Agentic Ai Decisions Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/ai/decisions/{decision_id}":{"get":{"tags":["agentic"],"summary":"Get AI Decision Details","description":"Retrieve detailed information about a specific AI decision.\n    \n    Returns complete decision information including:\n    - Decision ID and ticker\n    - Recommended action and status\n    - Timestamp and completion time\n    - AI explanation and reasoning\n    - Execution steps with results\n    - Error messages (if failed)\n    - Task description\n    \n    **Parameters:**\n    - `decision_id` (path): Unique identifier for the decision\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_ai_decision_api_agentic_ai_decisions__decision_id__get","parameters":[{"name":"decision_id","in":"path","required":true,"schema":{"type":"string","title":"Decision Id"}}],"responses":{"200":{"description":"Complete AI decision details","content":{"application/json":{"schema":{"$ref":"#/components/schemas/AiDecision"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/ai/analyze":{"post":{"tags":["agentic"],"summary":"Trigger AI Analysis","description":"Manually trigger AI-powered analysis for a ticker.\n    \n    This endpoint publishes a signal to the workforce orchestrator\n    to trigger comprehensive AI analysis using the CAMEL framework.\n    \n    **Request Body:**\n    - `ticker` (required): Trading pair symbol (e.g., \"BTC-USD\")\n    - `action` (optional): Analysis action type (default: \"ANALYZE\")\n    \n    **Process:**\n    1. Publishes SIGNAL_GENERATED event to Redis\n    2. Workforce orchestrator picks up signal\n    3. CAMEL runtime executes analysis workflow\n    4. Returns decision ID for tracking\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Analysis may take 30-60 seconds. Use decision_id to check status.","operationId":"trigger_ai_analysis_api_agentic_ai_analyze_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Request body with ticker and optional action"}}},"required":true},"responses":{"200":{"description":"Analysis trigger result with decision ID","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Trigger Ai Analysis Api Agentic Ai Analyze Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/memory/graph":{"get":{"tags":["agentic"],"summary":"Get Knowledge Graph","description":"Retrieve knowledge graph snapshot from agent memory.\n    \n    Returns a graph representation of relationships between:\n    - Trading pairs\n    - Market events\n    - News articles\n    - Trading decisions\n    - Performance metrics\n    \n    **Query Parameters:**\n    - `nodes` (optional, 1-500): Maximum number of nodes to return (default: 100)\n    - `edges` (optional, 1-1000): Maximum number of edges to return (default: 200)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Large graphs may take a few seconds to generate.","operationId":"get_graph_memory_api_agentic_memory_graph_get","parameters":[{"name":"nodes","in":"query","required":false,"schema":{"type":"integer","maximum":500,"minimum":1,"description":"Maximum number of nodes","default":100,"title":"Nodes"},"description":"Maximum number of nodes"},{"name":"edges","in":"query","required":false,"schema":{"type":"integer","maximum":1000,"minimum":1,"description":"Maximum number of edges","default":200,"title":"Edges"},"description":"Maximum number of edges"}],"responses":{"200":{"description":"Knowledge graph with nodes and edges","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Graph Memory Api Agentic Memory Graph Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/chat/{user_id}":{"get":{"tags":["agentic"],"summary":"Get Chat History","description":"Retrieve chat history for a specific user.\n    \n    Returns conversation history with the AI trading assistant, including:\n    - User messages and AI responses\n    - Timestamps for each message\n    - LLM model used (if applicable)\n    - Response times\n    \n    **Parameters:**\n    - `user_id` (path): User identifier\n    \n    **Query Parameters:**\n    - `limit` (optional, 1-100): Maximum number of messages to return (default: 50)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_chat_history_api_agentic_chat__user_id__get","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}},{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":100,"minimum":1,"description":"Maximum number of messages","default":50,"title":"Limit"},"description":"Maximum number of messages"}],"responses":{"200":{"description":"Chat history with messages and metadata","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Chat History Api Agentic Chat  User Id  Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}},"delete":{"tags":["agentic"],"summary":"Reset Chat History","description":"Clear all chat history for a specific user.\n    \n    This permanently deletes all conversation history with the AI assistant\n    for the specified user. This action cannot be undone.\n    \n    **Parameters:**\n    - `user_id` (path): User identifier\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"reset_chat_history_api_agentic_chat__user_id__delete","parameters":[{"name":"user_id","in":"path","required":true,"schema":{"type":"string","title":"User Id"}}],"responses":{"200":{"description":"Confirmation of chat history deletion","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Reset Chat History Api Agentic Chat  User Id  Delete"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/chat":{"post":{"tags":["agentic"],"summary":"Send Chat Message","description":"Send a message to the AI trading assistant and get a response.\n    \n    **Daily Message Limit:**\n    - Users can send up to 5 messages per day (configurable via CHAT_DAILY_MESSAGE_LIMIT)\n    - Limit resets automatically after 24 hours\n    - When limit is reached, returns 429 status with error message: \"Daily message limit reached\"\n    \n    **Other Limits:**\n    - Rate limit: 30 requests per 60 seconds per IP address\n    - Chat history storage: 100 messages (configurable)\n    \n    The AI assistant uses context from:\n    - Recent fusion recommendations\n    - Latest AI decisions\n    - Portfolio status\n    - Market conditions\n    - Trading history and agent memory\n    \n    **Request Body:**\n    - `user_id` (required): User identifier\n    - `message` (required): User message text (max 2000 characters)\n    \n    **Response:**\n    - `reply`: AI-generated reply text\n    - `history`: Updated chat history with all messages\n    - `llm_used`: Whether LLM was used for response\n    - `model_name`: LLM model used (if applicable)\n    - `response_time_ms`: Response generation time in milliseconds\n    - `daily_limit`: Object with limit, used, and remaining message counts\n    \n    **Example Questions:**\n    - \"What are the current top recommendations?\"\n    - \"Explain the strategy for BTC-USD\"\n    - \"What's my current portfolio allocation?\"\n    - \"Why did the system recommend selling ETH-USD?\"\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Response may take 2-5 seconds for LLM processing.","operationId":"post_chat_message_api_agentic_chat_post","requestBody":{"content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatRequest","description":"Request body with user_id and message"}}},"required":true},"responses":{"200":{"description":"AI response with updated chat history","content":{"application/json":{"schema":{"$ref":"#/components/schemas/ChatResponse"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/settings":{"get":{"tags":["agentic"],"summary":"Get Dashboard Settings","description":"Retrieve dashboard and system settings.\n    \n    Returns configuration including:\n    - Schedule profile (conservative/balanced/aggressive)\n    - Memory pruning limits and thresholds\n    - Review interval and prompts\n    - Pipeline observation and decision intervals\n    - Latest review snapshot with agent weights\n    \n    **Authentication Required:** Yes (API Key or JWT Token)","operationId":"get_settings_api_agentic_settings_get","responses":{"200":{"description":"Dashboard and system settings","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Get Settings Api Agentic Settings Get"}}}}}},"post":{"tags":["agentic"],"summary":"Update Dashboard Settings","description":"Update dashboard and system settings.\n    \n    **Request Body:**\n    - `schedule_profile` (optional): Risk profile (conservative/balanced/aggressive)\n    - `memory_prune_limit` (optional): Maximum memory entries before pruning\n    - `memory_prune_similarity_threshold` (optional): Similarity threshold for consolidation (0.0-1.0)\n    - `review_interval_hours` (optional): Hours between agent weight reviews\n    - `review_prompt` (optional): Custom prompt for weight review\n    - `observation_interval` (optional): Pipeline observation interval\n    - `decision_interval` (optional): Decision-making interval\n    - `forecast_interval` (optional): Forecast refresh interval\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    **Note:** Settings changes take effect immediately.","operationId":"update_settings_api_agentic_settings_post","requestBody":{"content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Body","description":"Settings to update"}}},"required":true},"responses":{"200":{"description":"Updated settings confirmation","content":{"application/json":{"schema":{"additionalProperties":true,"type":"object","title":"Response Update Settings Api Agentic Settings Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/agentic/logs/conversations":{"get":{"tags":["agentic"],"summary":"Get Conversation Logs","description":"Retrieve conversation logs from the agentic system.\n    \n    **Query Parameters:**\n    - `limit` (optional): Maximum number of logs to return (default: 20)\n    - `ticker` (optional): Filter by ticker symbol\n    - `interval` (optional): Filter by interval (minutes, hours, days)\n    - `agent_type` (optional): Filter by agent type (trend, fact, fusion, memory)\n    - `date_from` (optional): Filter from date (ISO format)\n    - `date_to` (optional): Filter to date (ISO format)\n    \n    **Authentication Required:** Yes (API Key or JWT Token)\n    \n    Returns a list of conversation logs with timestamps, messages, and metadata.","operationId":"get_conversation_logs_api_agentic_logs_conversations_get","parameters":[{"name":"limit","in":"query","required":false,"schema":{"type":"integer","maximum":200,"minimum":1,"description":"Maximum number of logs to return","default":20,"title":"Limit"},"description":"Maximum number of logs to return"},{"name":"ticker","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by ticker symbol","title":"Ticker"},"description":"Filter by ticker symbol"},{"name":"interval","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by interval","title":"Interval"},"description":"Filter by interval"},{"name":"agent_type","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter by agent type","title":"Agent Type"},"description":"Filter by agent type"},{"name":"date_from","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter from date (ISO format)","title":"Date From"},"description":"Filter from date (ISO format)"},{"name":"date_to","in":"query","required":false,"schema":{"anyOf":[{"type":"string"},{"type":"null"}],"description":"Filter to date (ISO format)","title":"Date To"},"description":"Filter to date (ISO format)"}],"responses":{"200":{"description":"List of conversation logs","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Conversation Logs Api Agentic Logs Conversations Get"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/octobot/{strategy_id}":{"post":{"tags":["octobot"],"summary":"Get Strategy Signal By Id","description":"Get trading signal for a specific user strategy by ID.\n\nRequires API key authentication.\nReturns OctoBot-compatible signal format.","operationId":"get_strategy_signal_by_id_api_octobot__strategy_id__post","parameters":[{"name":"strategy_id","in":"path","required":true,"schema":{"type":"string","title":"Strategy Id"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OctoBotRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Strategy Signal By Id Api Octobot  Strategy Id  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}},"/api/octobot/{interval}/{strategy_type}":{"post":{"tags":["octobot"],"summary":"Get Default Strategy Signal","description":"Get trading signal for default strategy by interval and type.\n\nStrategy types: \"dqn\", \"agentic\", \"trend\" (maps to forecasting_trend)\nIntervals: \"1h\", \"1d\", \"4h\", etc. (will be normalized)\n\nRequires API key authentication.\nReturns OctoBot-compatible signal format.","operationId":"get_default_strategy_signal_api_octobot__interval___strategy_type__post","parameters":[{"name":"interval","in":"path","required":true,"schema":{"type":"string","title":"Interval"}},{"name":"strategy_type","in":"path","required":true,"schema":{"type":"string","title":"Strategy Type"}}],"requestBody":{"required":true,"content":{"application/json":{"schema":{"$ref":"#/components/schemas/OctoBotRequest"}}}},"responses":{"200":{"description":"Successful Response","content":{"application/json":{"schema":{"type":"object","additionalProperties":true,"title":"Response Get Default Strategy Signal Api Octobot  Interval   Strategy Type  Post"}}}},"422":{"description":"Validation Error","content":{"application/json":{"schema":{"$ref":"#/components/schemas/HTTPValidationError"}}}}}}}},"components":{"schemas":{"APIKeyCreate":{"properties":{"name":{"type":"string","title":"Name"},"role":{"type":"string","title":"Role","default":"read-only"},"rate_limit":{"type":"integer","title":"Rate Limit","default":100},"expires_days":{"type":"integer","title":"Expires Days"}},"type":"object","required":["name"],"title":"APIKeyCreate"},"APIKeyCreated":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"api_key":{"type":"string","title":"Api Key"},"key_prefix":{"type":"string","title":"Key Prefix"},"role":{"type":"string","title":"Role"},"rate_limit":{"type":"integer","title":"Rate Limit"},"expires_at":{"type":"string","format":"date-time","title":"Expires At"},"created_at":{"type":"string","format":"date-time","title":"Created At"}},"type":"object","required":["id","name","api_key","key_prefix","role","rate_limit","created_at"],"title":"APIKeyCreated"},"APIKeyResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"key_prefix":{"type":"string","title":"Key Prefix"},"role":{"type":"string","title":"Role"},"rate_limit":{"type":"integer","title":"Rate Limit"},"is_active":{"type":"boolean","title":"Is Active"},"last_used_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Last Used At"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"expires_at":{"anyOf":[{"type":"string","format":"date-time"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["id","name","key_prefix","role","rate_limit","is_active","created_at"],"title":"APIKeyResponse"},"APIKeyUpdate":{"properties":{"name":{"type":"string","title":"Name"},"role":{"type":"string","title":"Role"},"rate_limit":{"type":"integer","title":"Rate Limit"},"is_active":{"type":"boolean","title":"Is Active"}},"type":"object","title":"APIKeyUpdate"},"AgentStatus":{"properties":{"copytrade":{"additionalProperties":true,"type":"object","title":"Copytrade"},"trend":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Trend"},"fact":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Fact"},"fusion":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Fusion"},"logfire_enabled":{"type":"boolean","title":"Logfire Enabled","default":false}},"type":"object","required":["copytrade","trend","fact","fusion"],"title":"AgentStatus"},"AiDecision":{"properties":{"decision_id":{"type":"string","title":"Decision Id"},"ticker":{"type":"string","title":"Ticker"},"action":{"type":"string","title":"Action"},"status":{"type":"string","title":"Status"},"agentic":{"type":"boolean","title":"Agentic"},"timestamp":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timestamp"},"completed_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Completed At"},"result":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Result"},"error":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Error"},"steps":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Steps"}},"type":"object","required":["decision_id","ticker","action","status","agentic"],"title":"AiDecision"},"BatchCloseResult":{"properties":{"status":{"type":"string","title":"Status","description":"Batch close status (e.g., 'success')"},"message":{"type":"string","title":"Message","description":"Human-readable message describing the result"},"total_sold":{"type":"number","title":"Total Sold","description":"Total value of positions sold"},"realized_pnl":{"type":"number","title":"Realized Pnl","description":"Total realized profit/loss from all closes"},"positions_closed":{"type":"integer","title":"Positions Closed","description":"Number of positions successfully closed"},"reserves_freed":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Reserves Freed","description":"Amount of reserved capital freed"},"strategy_disabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Strategy Disabled","description":"Whether strategy was automatically disabled"},"strategies_disabled":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Strategies Disabled","description":"Number of strategies automatically disabled"},"errors":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Errors","description":"List of error messages for failed closes"}},"type":"object","required":["status","message","total_sold","realized_pnl","positions_closed"],"title":"BatchCloseResult","description":"Result of closing multiple positions (batch operation).","example":{"message":"Sold 3 position(s), freed reserves, and disabled strategy automation","positions_closed":3,"realized_pnl":500.0,"reserves_freed":5000.0,"status":"success","strategy_disabled":true,"total_sold":15000.0}},"BuildStrategyRequest":{"properties":{"strategy_type":{"type":"string","title":"Strategy Type","default":"dynamic"},"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"pipeline":{"additionalProperties":true,"type":"object","title":"Pipeline"},"hyperparameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hyperparameters"},"portfolio_id":{"type":"string","title":"Portfolio Id"},"enabled":{"type":"boolean","title":"Enabled","default":false}},"type":"object","required":["name","pipeline","portfolio_id"],"title":"BuildStrategyRequest","description":"Request model for building and saving a custom strategy."},"ChatEntry":{"properties":{"role":{"type":"string","title":"Role"},"content":{"type":"string","title":"Content"},"timestamp":{"type":"string","title":"Timestamp"},"llm_used":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Llm Used"},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"response_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Time Ms"}},"type":"object","required":["role","content","timestamp"],"title":"ChatEntry"},"ChatRequest":{"properties":{"user_id":{"type":"string","title":"User Id"},"message":{"type":"string","title":"Message"}},"type":"object","required":["user_id","message"],"title":"ChatRequest"},"ChatResponse":{"properties":{"user_id":{"type":"string","title":"User Id"},"reply":{"type":"string","title":"Reply"},"history":{"items":{"$ref":"#/components/schemas/ChatEntry"},"type":"array","title":"History"},"llm_used":{"type":"boolean","title":"Llm Used","default":false},"model_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Model Name"},"response_time_ms":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Response Time Ms"},"daily_limit":{"anyOf":[{"$ref":"#/components/schemas/DailyLimitInfo"},{"type":"null"}]}},"type":"object","required":["user_id","reply","history"],"title":"ChatResponse"},"CheckoutSessionRequest":{"properties":{"plan_code":{"type":"string","title":"Plan Code"},"success_url":{"type":"string","title":"Success Url"},"cancel_url":{"type":"string","title":"Cancel Url"}},"type":"object","required":["plan_code","success_url","cancel_url"],"title":"CheckoutSessionRequest"},"CreatePortfolioRequest":{"properties":{"name":{"type":"string","title":"Name","description":"Portfolio name","default":"Paper Portfolio"}},"type":"object","title":"CreatePortfolioRequest","description":"Request model for creating a paper portfolio."},"DailyLimitInfo":{"properties":{"limit":{"type":"integer","title":"Limit"},"used":{"type":"integer","title":"Used"},"remaining":{"type":"integer","title":"Remaining"}},"type":"object","required":["limit","used","remaining"],"title":"DailyLimitInfo"},"DefaultPairsUpdate":{"properties":{"default_pairs":{"items":{"type":"string"},"type":"array","title":"Default Pairs"}},"type":"object","required":["default_pairs"],"title":"DefaultPairsUpdate","description":"Request model for updating default pairs."},"DepositWithdrawRequest":{"properties":{"currency":{"type":"string","title":"Currency","description":"Currency code (USD, USDC, DAI)","default":"USD"},"amount":{"type":"number","title":"Amount","description":"Amount to deposit or withdraw"},"portfolio_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id","description":"Portfolio ID (defaults to user's default portfolio)"}},"type":"object","required":["amount"],"title":"DepositWithdrawRequest","description":"Request model for deposits and withdrawals."},"EnabledAssetsResponse":{"properties":{"assets":{"items":{"type":"string"},"type":"array","title":"Assets"}},"type":"object","title":"EnabledAssetsResponse","description":"Model for enabled assets response."},"EthereumVerifyRequest":{"properties":{"message":{"type":"string","title":"Message"},"signature":{"type":"string","title":"Signature"},"address":{"type":"string","title":"Address"}},"type":"object","required":["message","signature","address"],"title":"EthereumVerifyRequest"},"HTTPValidationError":{"properties":{"detail":{"items":{"$ref":"#/components/schemas/ValidationError"},"type":"array","title":"Detail"}},"type":"object","title":"HTTPValidationError"},"HygContractAbiResponse":{"properties":{"name":{"type":"string","title":"Name"},"abi":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Abi"}},"type":"object","required":["name","abi"],"title":"HygContractAbiResponse"},"HygContractInfo":{"properties":{"name":{"type":"string","title":"Name"},"env_key":{"type":"string","title":"Env Key"},"address":{"type":"string","title":"Address"},"description":{"type":"string","title":"Description"},"has_address":{"type":"boolean","title":"Has Address"}},"type":"object","required":["name","env_key","address","description","has_address"],"title":"HygContractInfo"},"HygFeeConfig":{"properties":{"burn_ratio_bps":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Burn Ratio Bps"},"treasury":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Treasury"},"token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},"type":"object","title":"HygFeeConfig"},"HygGovernanceInfo":{"properties":{"pos_threshold":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pos Threshold"},"pos_user_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Pos User Count"},"voting_period":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Voting Period"},"proposal_threshold":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Proposal Threshold"},"quorum_numerator":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Quorum Numerator"}},"type":"object","title":"HygGovernanceInfo"},"HygGovernanceStateResponse":{"properties":{"governance":{"$ref":"#/components/schemas/HygGovernanceInfo"},"fees":{"$ref":"#/components/schemas/HygFeeConfig"}},"type":"object","required":["governance","fees"],"title":"HygGovernanceStateResponse"},"HygLatestVote":{"properties":{"proposal_id":{"type":"integer","title":"Proposal Id"},"vote_type":{"type":"integer","title":"Vote Type"},"proposer":{"type":"string","title":"Proposer"},"target_contract":{"type":"string","title":"Target Contract"},"for_votes":{"type":"string","title":"For Votes"},"against_votes":{"type":"string","title":"Against Votes"},"executed":{"type":"boolean","title":"Executed"},"requires_commitment":{"type":"boolean","title":"Requires Commitment"},"description":{"type":"string","title":"Description"},"start_time":{"type":"integer","title":"Start Time"},"end_time":{"type":"integer","title":"End Time"}},"type":"object","required":["proposal_id","vote_type","proposer","target_contract","for_votes","against_votes","executed","requires_commitment","description","start_time","end_time"],"title":"HygLatestVote","description":"Summary of the latest governance proposal and its vote counts.\n\nDerived from GovernanceRegistry.getProposal(proposalId)."},"HygPhaseStatus":{"properties":{"phase":{"type":"integer","title":"Phase"},"pos_threshold":{"type":"string","title":"Pos Threshold"},"pos_user_count":{"type":"integer","title":"Pos User Count"}},"type":"object","required":["phase","pos_threshold","pos_user_count"],"title":"HygPhaseStatus"},"HygStrategyAsset":{"properties":{"name":{"type":"string","title":"Name","description":"Human-readable name of the strategy asset"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description","description":"Short description for discovery and display"},"source_strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Strategy Id","description":"Optional link to an existing strategy id"},"pipeline_json":{"type":"string","title":"Pipeline Json","description":"Serialized pipeline/code representation suitable for the no-code builder. This should be copy-pastable into the builder in the future."},"id":{"type":"string","title":"Id"},"owner_user_id":{"type":"string","title":"Owner User Id"},"status":{"type":"string","title":"Status","description":"draft | publishing_pending | published","default":"draft"},"token_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token Id","description":"Optional on-chain StrategyNFT token id"},"chain_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chain Id","description":"Chain id where the NFT is minted (e.g. sepolia)"},"nft_contract_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Nft Contract Address","description":"StrategyNFT contract address used for minting"},"tx_hash":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Tx Hash","description":"Optional transaction hash for the publish tx"},"created_at":{"type":"string","format":"date-time","title":"Created At"},"updated_at":{"type":"string","format":"date-time","title":"Updated At"}},"type":"object","required":["name","pipeline_json","id","owner_user_id","created_at","updated_at"],"title":"HygStrategyAsset","description":"Full strategy asset model as returned by the API."},"HygStrategyAssetCreate":{"properties":{"name":{"type":"string","title":"Name","description":"Human-readable name of the strategy asset"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description","description":"Short description for discovery and display"},"source_strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Source Strategy Id","description":"Optional link to an existing strategy id"},"pipeline_json":{"type":"string","title":"Pipeline Json","description":"Serialized pipeline/code representation suitable for the no-code builder. This should be copy-pastable into the builder in the future."}},"type":"object","required":["name","pipeline_json"],"title":"HygStrategyAssetCreate"},"HygStrategyAssetUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"short_description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Short Description"},"pipeline_json":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pipeline Json"}},"type":"object","title":"HygStrategyAssetUpdate"},"HygStrategyContractRegistryInfo":{"properties":{"active_strategy_nft":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Active Strategy Nft"}},"type":"object","title":"HygStrategyContractRegistryInfo"},"HygStrategyNftInfo":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"symbol":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Symbol"},"total_supply":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Supply","description":"Total minted strategy NFTs"}},"type":"object","title":"HygStrategyNftInfo"},"HygStrategyOracleInfo":{"properties":{"similarity_threshold":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Similarity Threshold"}},"type":"object","title":"HygStrategyOracleInfo"},"HygStrategyRegistryInfo":{"properties":{"strategy_count":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Strategy Count"}},"type":"object","title":"HygStrategyRegistryInfo"},"HygStrategyRoyaltiesInfo":{"properties":{"token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Token"}},"type":"object","title":"HygStrategyRoyaltiesInfo"},"HygStrategySystemResponse":{"properties":{"summary":{"$ref":"#/components/schemas/HygStrategySystemSummary"},"contracts":{"items":{"$ref":"#/components/schemas/HygContractInfo"},"type":"array","title":"Contracts"}},"type":"object","required":["summary","contracts"],"title":"HygStrategySystemResponse"},"HygStrategySystemSummary":{"properties":{"nft":{"$ref":"#/components/schemas/HygStrategyNftInfo"},"registry":{"$ref":"#/components/schemas/HygStrategyRegistryInfo"},"oracle":{"$ref":"#/components/schemas/HygStrategyOracleInfo"},"royalties":{"$ref":"#/components/schemas/HygStrategyRoyaltiesInfo"},"contract_registry":{"$ref":"#/components/schemas/HygStrategyContractRegistryInfo"}},"type":"object","required":["nft","registry","oracle","royalties","contract_registry"],"title":"HygStrategySystemSummary"},"HygSwapRouterInfo":{"properties":{"router_address":{"type":"string","title":"Router Address"},"hook_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hook Address"},"hyg_token_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Hyg Token Address"},"fee_processor_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fee Processor Address"},"phase_manager_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phase Manager Address"},"swap_fee_amount":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Swap Fee Amount","description":"Fixed swap fee amount in HYG tokens (wei units, as string)"},"uv4_poolmanager":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uv4 Poolmanager"},"uv4_universal_router":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uv4 Universal Router"},"uv4_position_manager":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uv4 Position Manager"},"uv4_state_view":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uv4 State View"},"uv4_quoter":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Uv4 Quoter"}},"type":"object","required":["router_address"],"title":"HygSwapRouterInfo","description":"Basic configuration for the HYGSwapRouter on Sepolia."},"HygTokenMetadata":{"properties":{"name":{"type":"string","title":"Name"},"symbol":{"type":"string","title":"Symbol"},"decimals":{"type":"integer","title":"Decimals"},"total_supply":{"type":"string","title":"Total Supply"},"current_phase":{"type":"integer","title":"Current Phase"},"max_supply":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Max Supply","description":"MAX_SUPPLY hard cap"},"total_minted":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Minted","description":"Cumulative minted amount (getTotalMinted)"},"total_burned":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Total Burned","description":"Cumulative burned amount (getTotalBurned)"},"burn_ratio":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Burn Ratio","description":"Burn fee ratio (e.g. 60 for 60%) as exposed by HYGToken"},"treasury_ratio":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Treasury Ratio","description":"Treasury fee ratio (e.g. 40 for 40%) as exposed by HYGToken"},"treasury":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Treasury","description":"Treasury address used for fee routing"},"phase_label":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phase Label","description":"Human-readable Q-phase label (e.g. Q0_DORMANT, Q1_ACTIVE, Q2_DEFI)"}},"type":"object","required":["name","symbol","decimals","total_supply","current_phase"],"title":"HygTokenMetadata"},"HygUserBalance":{"properties":{"address":{"type":"string","title":"Address"},"balance":{"type":"string","title":"Balance"},"voting_power":{"type":"string","title":"Voting Power"}},"type":"object","required":["address","balance","voting_power"],"title":"HygUserBalance"},"NotificationCreate":{"properties":{"notification_type":{"type":"string","title":"Notification Type"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority","default":"normal"},"action_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action Type"},"action_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action Url"},"action_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Action Data"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"}},"type":"object","required":["notification_type","title","message"],"title":"NotificationCreate","description":"Model for creating a notification."},"NotificationResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"notification_type":{"type":"string","title":"Notification Type"},"title":{"type":"string","title":"Title"},"message":{"type":"string","title":"Message"},"priority":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Priority"},"status":{"type":"string","title":"Status"},"action_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action Type"},"action_url":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Action Url"},"action_data":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Action Data"},"expires_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Expires At"},"read_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Read At"},"archived_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Archived At"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","user_id","notification_type","title","message","status","created_at"],"title":"NotificationResponse","description":"Model for notification response."},"OctoBotRequest":{"properties":{"symbol":{"type":"string","title":"Symbol"},"exchange":{"type":"string","title":"Exchange"},"timeframe":{"type":"string","title":"Timeframe"},"timestamp":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Timestamp"}},"type":"object","required":["symbol","exchange","timeframe"],"title":"OctoBotRequest","description":"Request payload from OctoBot"},"PipelineExecuteRequest":{"properties":{"pipeline":{"additionalProperties":true,"type":"object","title":"Pipeline"},"strategy_config":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Strategy Config"},"hyperparams":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hyperparams"},"state":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"State"},"mode":{"type":"string","title":"Mode","default":"paper"},"test_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Test Mode"}},"type":"object","required":["pipeline"],"title":"PipelineExecuteRequest","description":"Request model for pipeline execution."},"PortalSessionRequest":{"properties":{"return_url":{"type":"string","title":"Return Url"}},"type":"object","required":["return_url"],"title":"PortalSessionRequest"},"PortfolioCreate":{"properties":{"name":{"type":"string","title":"Name","default":"My Portfolio"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"portfolio_type":{"type":"string","title":"Portfolio Type","default":"paper"},"initial_balance":{"type":"number","title":"Initial Balance","default":10000.0},"currency":{"type":"string","title":"Currency","default":"USD"}},"type":"object","title":"PortfolioCreate","description":"Request model for creating a portfolio."},"PortfolioResponse":{"properties":{"id":{"type":"string","title":"Id"},"name":{"type":"string","title":"Name"},"total_value":{"type":"number","title":"Total Value"},"balance":{"type":"number","title":"Balance"},"holdings":{"additionalProperties":true,"type":"object","title":"Holdings"},"daily_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Daily Pnl"},"total_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Total Pnl"},"positions":{"anyOf":[{"items":{"additionalProperties":true,"type":"object"},"type":"array"},{"type":"null"}],"title":"Positions"}},"type":"object","required":["id","name","total_value","balance","holdings"],"title":"PortfolioResponse"},"PositionDetail":{"properties":{"ticker":{"type":"string","title":"Ticker"},"quantity":{"type":"number","title":"Quantity"},"avg_price":{"type":"number","title":"Avg Price"},"current_price":{"type":"number","title":"Current Price"},"market_value":{"type":"number","title":"Market Value"},"cost_basis":{"type":"number","title":"Cost Basis"},"unrealized_pnl":{"type":"number","title":"Unrealized Pnl"},"roi_percent":{"type":"number","title":"Roi Percent"}},"type":"object","required":["ticker","quantity","avg_price","current_price","market_value","cost_basis","unrealized_pnl","roi_percent"],"title":"PositionDetail","description":"Position detail with bought price vs current price"},"SequenceRequest":{"type":"string","enum":["days","minutes","hours","thirty"],"title":"SequenceRequest"},"SessionLogRequest":{"properties":{"user_agent":{"type":"string","title":"User Agent"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"}},"type":"object","required":["user_agent"],"title":"SessionLogRequest"},"SessionResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"ip_address":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ip Address"},"user_agent":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Agent"},"location":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Location"},"device_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Device Type"},"created_at":{"type":"string","title":"Created At"}},"type":"object","required":["id","user_id","ip_address","user_agent","location","device_type","created_at"],"title":"SessionResponse"},"SolanaVerifyRequest":{"properties":{"message":{"type":"string","title":"Message"},"signature":{"type":"string","title":"Signature"},"address":{"type":"string","title":"Address"}},"type":"object","required":["message","signature","address"],"title":"SolanaVerifyRequest"},"StrategyCreate":{"properties":{"name":{"type":"string","title":"Name","default":"DQN Strategy"},"portfolio_id":{"type":"string","title":"Portfolio Id"},"min_confidence":{"type":"number","title":"Min Confidence","default":0.3},"max_position_percent":{"type":"number","title":"Max Position Percent","default":10.0},"enabled":{"type":"boolean","title":"Enabled","default":false},"strategy_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Type","default":"dqn"},"trade_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trade Interval"},"refresh_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Refresh Seconds"},"allowed_pairs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Pairs"},"preferred_tickers":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Tickers"},"preferred_actions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Actions"},"max_trades_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Trades Per Day"},"stop_loss_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Stop Loss Percent"},"take_profit_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Take Profit Percent"},"risk_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Level"},"max_order_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Order Amount"},"min_order_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Order Amount"},"default_pairs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Default Pairs"},"per_portfolio_cap_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Per Portfolio Cap Percent"},"reserved_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Reserved Amount"},"stop_loss_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stop Loss Mode"},"agentic_strategy_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agentic Strategy Name"},"per_ticker_bounds":{"anyOf":[{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Per Ticker Bounds"},"hyperparameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hyperparameters"}},"type":"object","required":["portfolio_id"],"title":"StrategyCreate"},"StrategyDefinitionRequest":{"properties":{"definition":{"additionalProperties":true,"type":"object","title":"Definition"}},"type":"object","required":["definition"],"title":"StrategyDefinitionRequest","description":"Request model for building a strategy from JSON."},"StrategyDefinitionResponse":{"properties":{"strategy_type":{"type":"string","title":"Strategy Type"},"name":{"type":"string","title":"Name"},"display_name":{"type":"string","title":"Display Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"category":{"type":"string","title":"Category"},"supported_intervals":{"items":{"type":"string"},"type":"array","title":"Supported Intervals"},"hyperparameter_schema":{"items":{"additionalProperties":true,"type":"object"},"type":"array","title":"Hyperparameter Schema"},"required_services":{"items":{"type":"string"},"type":"array","title":"Required Services"},"message":{"type":"string","title":"Message"}},"type":"object","required":["strategy_type","name","display_name","description","category","supported_intervals","hyperparameter_schema","required_services","message"],"title":"StrategyDefinitionResponse","description":"Response model for strategy definition."},"StrategyROIResponse":{"properties":{"strategy_id":{"type":"string","title":"Strategy Id"},"strategy_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Name"},"strategy_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Type"},"roi":{"type":"number","title":"Roi"},"gains":{"type":"number","title":"Gains"},"total_cost":{"type":"number","title":"Total Cost"},"total_value":{"type":"number","title":"Total Value"},"positions":{"items":{"$ref":"#/components/schemas/PositionDetail"},"type":"array","title":"Positions"},"interval":{"type":"string","title":"Interval"}},"type":"object","required":["strategy_id","roi","gains","total_cost","total_value","positions","interval"],"title":"StrategyROIResponse","description":"ROI and performance metrics for a strategy"},"StrategyStatsResponse":{"properties":{"portfolio_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"},"strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id"},"trades_count":{"type":"integer","title":"Trades Count"},"avg_roi":{"type":"number","title":"Avg Roi"},"std_roi":{"type":"number","title":"Std Roi"},"variance_roi":{"type":"number","title":"Variance Roi"},"mse":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Mse"},"mape":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Mape"},"roi_1week":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Roi 1Week"}},"type":"object","required":["trades_count","avg_roi","std_roi","variance_roi"],"title":"StrategyStatsResponse"},"StrategyUpdate":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name"},"min_confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Confidence"},"max_position_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Position Percent"},"enabled":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enabled"},"strategy_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Type"},"trade_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trade Interval"},"refresh_seconds":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Refresh Seconds"},"allowed_pairs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Allowed Pairs"},"preferred_tickers":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Tickers"},"preferred_actions":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Preferred Actions"},"max_trades_per_day":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Max Trades Per Day"},"stop_loss_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Stop Loss Percent"},"take_profit_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Take Profit Percent"},"risk_level":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Level"},"max_order_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Max Order Amount"},"min_order_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Min Order Amount"},"default_pairs":{"anyOf":[{"items":{"type":"string"},"type":"array"},{"type":"null"}],"title":"Default Pairs"},"per_portfolio_cap_percent":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Per Portfolio Cap Percent"},"reserved_amount":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Reserved Amount"},"stop_loss_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Stop Loss Mode"},"agentic_strategy_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Agentic Strategy Name"},"per_ticker_bounds":{"anyOf":[{"additionalProperties":{"additionalProperties":{"type":"number"},"type":"object"},"type":"object"},{"type":"null"}],"title":"Per Ticker Bounds"},"hyperparameters":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Hyperparameters"}},"type":"object","title":"StrategyUpdate"},"TradeLogResponse":{"properties":{"id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Id"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"portfolio_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id"},"strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id"},"ticker":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Ticker"},"pair":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Pair"},"action":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Action"},"quantity":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Quantity"},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price"},"executed_price":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Executed Price"},"computed_fragment":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Computed Fragment"},"realized_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Realized Pnl"},"realized_roi":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Realized Roi"},"confidence":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Confidence"},"dqn_action":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Dqn Action"},"dqn_confidence":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Dqn Confidence"},"trade_fee":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Trade Fee"},"gas_fee":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Gas Fee"},"fee_rate":{"anyOf":[{"type":"string"},{"type":"number"},{"type":"null"}],"title":"Fee Rate"},"fee_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Fee Type"},"exchange_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Exchange Type"},"status":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Status"},"interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval"},"strategy_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Type"},"note":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Note"},"trading_mode":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Trading Mode"},"created_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Created At"},"filled_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Filled At"},"settled_at":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Settled At"}},"additionalProperties":true,"type":"object","title":"TradeLogResponse","description":"Trade log entry response - unified format for paper and production trades"},"TradeRequest":{"properties":{"ticker":{"type":"string","title":"Ticker","description":"Trading pair ticker (e.g., 'BTC-USD')"},"side":{"type":"string","title":"Side","description":"Trade side: 'buy' or 'sell'"},"quantity":{"type":"number","title":"Quantity","description":"Quantity to trade (will be calculated if not provided)","default":0.0},"price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Price","description":"Execution price (market if None)"},"portfolio_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Portfolio Id","description":"Portfolio ID (defaults to user's default portfolio)"},"strategy_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Strategy Id","description":"Strategy ID (optional, for strategy-driven trades)"},"action_confidence":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Action Confidence","description":"Action confidence score (0.0-1.0)"},"interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Interval","description":"Trading interval focus (minutes, thirty, hours, days)"}},"type":"object","required":["ticker","side"],"title":"TradeRequest","description":"Request model for executing paper trades."},"TradeResult":{"properties":{"status":{"type":"string","title":"Status","description":"Trade status (e.g., 'ok', 'success')"},"portfolio_id":{"type":"string","title":"Portfolio Id","description":"Portfolio ID where trade was executed"},"ticker":{"type":"string","title":"Ticker","description":"Trading pair ticker (e.g., 'BTC-USD')"},"side":{"type":"string","title":"Side","description":"Trade side: 'buy' or 'sell'"},"quantity":{"type":"number","title":"Quantity","description":"Quantity traded"},"price":{"type":"number","title":"Price","description":"Execution price"},"realized_pnl":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Realized Pnl","description":"Realized profit/loss from this trade"},"realized_roi":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Realized Roi","description":"Realized return on investment (as decimal)"},"strategy_snapshot":{"anyOf":[{"additionalProperties":true,"type":"object"},{"type":"null"}],"title":"Strategy Snapshot","description":"Strategy state snapshot after trade"},"execution_price":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Execution Price","description":"Actual execution price (may differ from requested price)"}},"type":"object","required":["status","portfolio_id","ticker","side","quantity","price"],"title":"TradeResult","description":"Result of a trade execution.","example":{"execution_price":50000.0,"portfolio_id":"123e4567-e89b-12d3-a456-426614174000","price":50000.0,"quantity":0.1,"side":"buy","status":"ok","ticker":"BTC-USD"}},"UnreadCountResponse":{"properties":{"unread_count":{"type":"integer","title":"Unread Count"}},"type":"object","required":["unread_count"],"title":"UnreadCountResponse","description":"Model for unread notification count response."},"UpdatePortfolioRequest":{"properties":{"name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Name","description":"Portfolio name"}},"type":"object","title":"UpdatePortfolioRequest","description":"Request model for updating a paper portfolio."},"UserPreferencesResponse":{"properties":{"id":{"type":"string","title":"Id"},"user_id":{"type":"string","title":"User Id"},"theme":{"type":"string","title":"Theme"},"enable_notifications":{"type":"boolean","title":"Enable Notifications"},"enable_sound":{"type":"boolean","title":"Enable Sound"},"show_dqn_actions":{"type":"boolean","title":"Show Dqn Actions"},"show_multitimeframe":{"type":"boolean","title":"Show Multitimeframe"},"risk_tolerance":{"type":"string","title":"Risk Tolerance"},"default_trading_pair":{"type":"string","title":"Default Trading Pair"},"default_interval":{"type":"string","title":"Default Interval"},"auto_trading":{"type":"boolean","title":"Auto Trading"},"data_sharing":{"type":"boolean","title":"Data Sharing"},"session_timeout_minutes":{"type":"integer","title":"Session Timeout Minutes"},"test_mode":{"type":"boolean","title":"Test Mode"},"created_at":{"type":"string","title":"Created At"},"updated_at":{"type":"string","title":"Updated At"}},"type":"object","required":["id","user_id","theme","enable_notifications","enable_sound","show_dqn_actions","show_multitimeframe","risk_tolerance","default_trading_pair","default_interval","auto_trading","data_sharing","session_timeout_minutes","test_mode","created_at","updated_at"],"title":"UserPreferencesResponse","description":"Model for user preferences response."},"UserPreferencesUpdate":{"properties":{"theme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme"},"enable_notifications":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Notifications"},"enable_sound":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Sound"},"show_dqn_actions":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Show Dqn Actions"},"show_multitimeframe":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Show Multitimeframe"},"risk_tolerance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Tolerance"},"default_trading_pair":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Trading Pair"},"default_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Interval"},"auto_trading":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Auto Trading"},"data_sharing":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Data Sharing"},"session_timeout_minutes":{"anyOf":[{"type":"integer"},{"type":"null"}],"title":"Session Timeout Minutes"},"test_mode":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Test Mode"}},"type":"object","title":"UserPreferencesUpdate","description":"Model for updating user preferences."},"UserProfileUpdate":{"properties":{"full_name":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Full Name"},"country":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Country"},"timezone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Timezone"},"language":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Language"},"phone":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Phone"}},"type":"object","title":"UserProfileUpdate"},"ValidationError":{"properties":{"loc":{"items":{"anyOf":[{"type":"string"},{"type":"integer"}]},"type":"array","title":"Location"},"msg":{"type":"string","title":"Message"},"type":{"type":"string","title":"Error Type"}},"type":"object","required":["loc","msg","type"],"title":"ValidationError"},"WatchlistCreate":{"properties":{"name":{"type":"string","title":"Name"},"description":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Description"},"color":{"type":"string","title":"Color","default":"#6366f1"}},"type":"object","required":["name"],"title":"WatchlistCreate","description":"Model for creating a watchlist."},"WatchlistItemCreate":{"properties":{"ticker":{"type":"string","title":"Ticker"},"notes":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Notes"},"alert_price_above":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Alert Price Above"},"alert_price_below":{"anyOf":[{"type":"number"},{"type":"null"}],"title":"Alert Price Below"}},"type":"object","required":["ticker"],"title":"WatchlistItemCreate","description":"Model for creating a watchlist item."},"Web3AuthResponse":{"properties":{"success":{"type":"boolean","title":"Success"},"message":{"type":"string","title":"Message"},"user_id":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"User Id"},"session_token":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Session Token"}},"type":"object","required":["success","message"],"title":"Web3AuthResponse"},"app__api__routers__users__UserPreferencesUpdate":{"properties":{"theme":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Theme"},"default_currency":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Currency"},"default_interval":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Default Interval"},"chart_type":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Chart Type"},"enable_notifications":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Notifications"},"enable_sound":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Enable Sound"},"show_dqn_actions":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Show Dqn Actions"},"show_multitimeframe":{"anyOf":[{"type":"boolean"},{"type":"null"}],"title":"Show Multitimeframe"},"risk_tolerance":{"anyOf":[{"type":"string"},{"type":"null"}],"title":"Risk Tolerance"}},"type":"object","title":"UserPreferencesUpdate"}},"securitySchemes":{"HTTPBearer":{"type":"http","scheme":"bearer"}}},"servers":[{"url":"https://forecasting.guidry-cloud.com","description":"Production"},{"url":"http://forecasting.guidry-cloud.com","description":"Development"}]}